{"version":3,"sources":["uni-app:///main.js","webpack:///E:/app/pages/cart/main.vue?eaf9","webpack:///E:/app/pages/cart/main.vue?ec72","webpack:///E:/app/pages/cart/main.vue?8dff","webpack:///E:/app/pages/cart/main.vue?8490","uni-app:///pages/cart/main.vue","webpack:///E:/app/pages/cart/main.vue?4f62","webpack:///E:/app/pages/cart/main.vue?f9ff"],"names":["createPage","Page"],"mappings":"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","file":"pages/cart/main.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/cart/main.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./main.vue?vue&type=template&id=10c981c2&scoped=true&\"\nvar renderjs\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=10c981c2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10c981c2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/cart/main.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=template&id=10c981c2&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"","<template>\r\n  <view>\r\n    <cu-custom bgColor=\"bg-white\" :isBack=\"false\">\r\n      <block slot=\"backText\">返回</block>\r\n      <block slot=\"content\">购物车</block>\r\n    </cu-custom>\r\n    <div class=\"cart\">\r\n      <!--<div class=\"top\">\r\n      \r\n          <div>30天无忧退货</div>\r\n          <div>48小时快速退款</div>\r\n          <div>满88元免邮费</div>\r\n      \r\n      </div>-->\r\n      <div class=\"cartlist\">\r\n        <div\r\n          class=\"item\"\r\n          @touchstart=\"startMove\"\r\n          @touchmove=\"deleteGoods\"\r\n          @touchend=\"endMove\"\r\n          :data-index=\"index\"\r\n          v-for=\"(item, index) in listData\"\r\n          :key=\"index\"\r\n        >\r\n          <div class=\"con\" :style=\"item.textStyle\">\r\n            <div class=\"left\">\r\n              <div\r\n                class=\"icon\"\r\n                @click=\"changeColor(index, item.rec_id)\"\r\n                :class=\"[Listids[index] ? 'active' : '']\"\r\n              ></div>\r\n              <div class=\"img\">\r\n                <img :src=\"item.goods_thumb\" alt />\r\n              </div>\r\n              <div class=\"info\">\r\n                <p>{{ item.goods_name }}</p>\r\n                <p class=\"small\">{{ item.sku_str }}</p>\r\n                <p>￥{{ item.goods_price }}</p>\r\n              </div>\r\n            </div>\r\n            <div class=\"right\">\r\n              <span\r\n                @click=\"countGoodsNumber(item, false)\"\r\n                :class=\"{ disabled: item.goods_number === 1 }\"\r\n                >-</span\r\n              >\r\n              <input\r\n                @blur=\"\r\n                  changeCartNumber(\r\n                    item.goods_id,\r\n                    item.goods_number,\r\n                    item.product_id,\r\n                    item.goods_number\r\n                  )\r\n                \"\r\n                type=\"number\"\r\n                v-model=\"item.goods_number\"\r\n              />\r\n              <span @click=\"countGoodsNumber(item, true)\">+</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            @click=\"delGoods(item.rec_id, index)\"\r\n            class=\"delete\"\r\n            :style=\"item.textStyle1\"\r\n          >\r\n            <div>删除</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"nogoods\" v-if=\"listData.length == 0\">\r\n        <img\r\n          src=\"https://imgt1.oss-cn-shanghai.aliyuncs.com/ecAllRes/images/noCart.png\"\r\n          alt\r\n        />\r\n      </div>\r\n\t  <!-- 增加浏览商品 -->\r\n\t  <div class=\"font_center\">——猜你喜欢——</div>\r\n\t  <div class=\"newgoods\">\r\n\t    <div class=\"sortlist\">\r\n\t      <div\r\n\t        @click=\"goodsDetail(item.id)\"\r\n\t        v-for=\"(item, index) in historyGoods\"\r\n\t        :key=\"index\"\r\n\t        class=\"item\"\r\n\t      >\r\n\t        <img v-if=\"item.img\" :src=\"item.img\" alt=\"\" />\r\n\t\t\t<img v-if=\"item.goods_thumb\" :src=\"item.goods_thumb\" alt=\"\" />\r\n\t        <p class=\"name\">{{ item.goods_name }}</p>\r\n\t        <p class=\"price\">¥{{ item.shop_price }}</p>\r\n\t      </div>\r\n\t    </div>\r\n\t  </div>\r\n\t  <!-- 增加浏览商品 -->\r\n      <div class=\"fixed\">\r\n        <div @click=\"allCheck\" :class=\"{ active: allcheck }\" class=\"left\">\r\n          全选({{ isCheckedNumber }})\r\n        </div>\r\n        <div class=\"right\">\r\n          <div>￥{{ allPrise }}</div>\r\n          <div @click=\"orderDown\">下单</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  cartListApi,\r\n  orderSubmitaction,\r\n  cartUpdateNumApi,\r\n  cartCheckApi,\r\n  cartCheckAllApi,\r\n  cartDelApi,\r\n  recommendGoodsApi,\r\n} from \"@/server/config.js\";\r\nimport { toLogin, getStorageUserInfo  } from \"@/server/api.js\";\r\n\r\nexport default {\r\n  onShow() {\r\n    if (getStorageUserInfo()) {\r\n      this.getListData();\r\n    }\r\n\tthis.getCacheGoodsList()\r\n  },\r\n  created() {},\r\n  data() {\r\n    return {\r\n      allPrise: \"\",\r\n      allcheck: false,\r\n      listData: [],\r\n      Listids: [],\r\n      tranX: 0,\r\n      tranX1: 0,\r\n      startX: \"\",\r\n      startY: \"\",\r\n      moveX: \"\",\r\n      moveY: \"\",\r\n      moveEndX: \"\",\r\n      moveEndY: \"\",\r\n      X: 0,\r\n      Y: \"\",\r\n\t  historyGoods: [],\r\n    };\r\n  },\r\n  components: {},\r\n  methods: {\r\n    // 手动输入数量触发\r\n    async changeCartNumber(goods_id, number, product_id, goods_number) {\r\n      let yz_number = /^\\d+$/;\r\n\r\n      //    goods_number = goods_number.replace(/[^\\d]/g, ''); // 清除“数字”和“.”以外的字符\r\n      //    if (goods_number.indexOf('.') < 0 && goods_number != '') {\r\n      //         // 以上已经过滤，此处控制的是如果没有小数点，首位不能为类似于 01、02的金额\r\n      //        goods_number = parseInt(goods_number);\r\n      //    }else{\r\n      //   this.getListData();\r\n      //   return false;\r\n      // }\r\n\r\n      if (number <= 0) {\r\n        let _this = this;\r\n        uni.showToast({\r\n          icon: \"none\",\r\n          duration: 1000,\r\n          title: \"数量不能小于等于0\",\r\n          success: function () {\r\n            setTimeout(function () {\r\n              _this.getListData();\r\n            }, 1000);\r\n          },\r\n        });\r\n\r\n        return false;\r\n      }\r\n\r\n      if (yz_number.test(number) === false) {\r\n        uni.showToast({\r\n          icon: \"none\",\r\n          duration: 1000,\r\n          title: \"数量输入有误\",\r\n        });\r\n        this.getListData();\r\n        return false;\r\n      }\r\n      const data = await cartUpdateNumApi({\r\n        number: number,\r\n        goods_id: goods_id,\r\n        product_id: product_id,\r\n      });\r\n      let _this = this;\r\n      if (data.data.update_cart === false) {\r\n        uni.showToast({\r\n          icon: \"none\",\r\n          title: data.data.msg,\r\n          success: function (res) {\r\n            setTimeout(function () {\r\n              _this.getListData(); // 重新加载当前数据\r\n            }, 1000);\r\n          },\r\n        });\r\n        console.log(22222);\r\n        return false;\r\n      }\r\n      this.getListData();\r\n      this.allPrise = data.data.totalPrice;\r\n    },\r\n    // 商品数量加减\r\n    async countGoodsNumber(goods, flag) {\r\n      if (flag) {\r\n        goods.goods_number++;\r\n        // if(goods.goods_number>data.data.goods_list.goods_number){\r\n        // \t// goods.goods_number = data.data.goods_list.goods_number;\r\n        // \t// this.getListData();\r\n        // }\r\n      } else {\r\n        if (goods.goods_number <= 1) {\r\n          mpvue.showToast({\r\n            title: \"本商品1件起售\",\r\n            icon: \"none\",\r\n            duration: 1500,\r\n          });\r\n\r\n          goods.goods_number = 1;\r\n          return;\r\n        }\r\n        goods.goods_number--;\r\n      }\r\n      const data = await cartUpdateNumApi({\r\n        number: goods.goods_number,\r\n        goods_id: goods.goods_id,\r\n        product_id: goods.product_id,\r\n      });\r\n      if (data.data.update_cart === false) {\r\n        let _this = this;\r\n        uni.showToast({\r\n          icon: \"none\",\r\n          title: data.data.msg,\r\n          success: function (res) {\r\n            setTimeout(function () {\r\n              console.log(goods.goods_number);\r\n              // goods.goods_number = 1; // 重新加载当前数据\r\n              _this.getListData();\r\n            }, 1000);\r\n          },\r\n        });\r\n        return false;\r\n      }\r\n\r\n      //     uni.showToast({\r\n      //       icon: \"none\",\r\n      //       title: data.data.msg,\r\n      // success() {\r\n\r\n      // }\r\n      //     });\r\n      //     return false;\r\n      //   }\r\n      //   // console.log(data.totalPrice);\r\n      this.getListData();\r\n      this.allPrise = data.data.totalPrice;\r\n    },\r\n    async getCacheGoodsList() {\r\n    \tlet historyGoods = uni.getStorageSync(\"historyGoods\");\r\n\t\tif(historyGoods.length>=10){\r\n\t\t\tthis.historyGoods = historyGoods;\r\n\t\t}else{\r\n\t\t\t// 调新接口recommendGoodsApi\r\n\t\t\tlet his_length = 10\r\n\t\t\tif(historyGoods.length){\r\n\t\t\t\this_length = 10 - historyGoods.length\r\n\t\t\t}\r\n\t\t\tconst data = await recommendGoodsApi({\r\n\t\t\t  num:his_length,\r\n\t\t\t});\r\n\t\t\tif(historyGoods){\r\n\t\t\t\tthis.historyGoods = historyGoods.concat(data.data)\r\n\t\t\t}else{\r\n\t\t\t\tthis.historyGoods = data.data\r\n\t\t\t}\r\n\t\t}\r\n    \t\r\n    },\r\n\tinitTextStyle() {\r\n      //滑动之前先初始化数据\r\n      for (let i = 0; i < this.listData.length; i++) {\r\n        this.listData[i].textStyle = \"\";\r\n        this.listData[i].textStyle1 = \"\";\r\n      }\r\n    },\r\n    startMove(e) {\r\n      this.initTextStyle();\r\n      this.startX = e.touches[0].pageX;\r\n      this.startY = e.touches[0].pageY;\r\n    },\r\n    deleteGoods(e) {\r\n      //滑动之前先初始化样式数据\r\n      this.initTextStyle();\r\n      let index = e.currentTarget.dataset.index;\r\n      // console.log(index);\r\n      if (this.X <= -100) {\r\n        this.flag = true;\r\n      }\r\n      if (!this.flag) {\r\n        this.moveX = e.touches[0].pageX;\r\n        this.moveY = e.touches[0].pageY;\r\n        this.X = this.moveX - this.startX;\r\n        this.Y = this.moveX - this.startY;\r\n        this.listData[\r\n          index\r\n        ].textStyle = `transform:translateX(${this.tranX}rpx);`;\r\n        if (this.X >= 100) {\r\n          this.X = 0;\r\n        }\r\n        this.tranX = this.X;\r\n        if (this.X <= -100) {\r\n          this.X = -100;\r\n        }\r\n        this.tranX1 = this.X;\r\n        this.listData[\r\n          index\r\n        ].textStyle1 = `transform:translateX(${this.tranX1}rpx);`;\r\n      } else {\r\n        this.moveX = e.touches[0].pageX;\r\n        this.moveY = e.touches[0].pageY;\r\n        this.X = this.moveX - this.startX;\r\n        this.Y = this.moveX - this.startY;\r\n\r\n        this.tranX = this.X - 100;\r\n        this.listData[\r\n          index\r\n        ].textStyle = `transform:translateX(${this.tranX}rpx);`;\r\n        // transform:'translateX(' + tranX + 'rpx)'\r\n\r\n        console.log(this.listData[index].textStyle);\r\n\r\n        if (this.X + -100 > -100) {\r\n          this.flag = false;\r\n        }\r\n        this.tranX1 = -100;\r\n        this.listData[index].textStyle1 = `transform:translateX(-100rpx);`;\r\n        console.log(this.listData[index].textStyle1);\r\n        // this.listData = this.listData;\r\n      }\r\n      // if (Math.abs(this.X) > Math.abs(this.Y) && this.X > 20) {\r\n      //   this.scrollflag = false;\r\n      // } else if (Math.abs(this.X) > Math.abs(this.Y) && this.X < 20) {\r\n      //   console.log(\"right 2 left\");\r\n      // }\r\n    },\r\n    endMove(e) {\r\n      let index = e.currentTarget.dataset.index;\r\n      if (this.X > -50) {\r\n        this.tranX1 = 0;\r\n        this.tranX = 0;\r\n        this.listData[\r\n          index\r\n        ].textStyle = `transform:translateX(${this.tranX}rpx);`;\r\n        this.listData[\r\n          index\r\n        ].textStyle1 = `transform:translateX(${this.tranX1}rpx);`;\r\n      } else if (this.X <= -50) {\r\n        this.tranX1 = -100;\r\n        this.tranX = -100;\r\n        this.listData[\r\n          index\r\n        ].textStyle = `transform:translateX(${this.tranX}rpx);`;\r\n        this.listData[\r\n          index\r\n        ].textStyle1 = `transform:translateX(${this.tranX1}rpx);`;\r\n      }\r\n    },\r\n    async orderDown() {\r\n      // if (this.Listids.length == 0) {\r\n      //判断商品金额\r\n      if (this.allPrise == 0) {\r\n        uni.showToast({\r\n          title: \"请选择商品\",\r\n          icon: \"none\",\r\n          duration: 1500,\r\n        });\r\n        return false;\r\n      }\r\n      // 去掉数组中空的false的\r\n      let newgoodsid = [];\r\n      for (let i = 0; i < this.Listids.length; i++) {\r\n        const element = this.Listids[i];\r\n        if (element) {\r\n          newgoodsid.push(element);\r\n        }\r\n      }\r\n      uni.navigateTo({\r\n        url: \"/apiCart/order/main\",\r\n      });\r\n    },\r\n    delGoods(id, index) {\r\n      let _this = this;\r\n      uni.showModal({\r\n        title: \"\",\r\n        content: \"是否要删除该商品\",\r\n        success: async function (res) {\r\n          if (res.confirm) {\r\n            _this.Listids.splice(index, 1);\r\n            // _this.getListData();\r\n            const data = await cartDelApi({\r\n              id: id,\r\n            });\r\n            _this.getListData();\r\n          } else if (res.cancel) {\r\n            console.log(\"用户点击取消\");\r\n            //滑动之前先初始化样式数据\r\n            this.initTextStyle();\r\n          }\r\n        },\r\n      });\r\n    },\r\n    async getListData() {\r\n      const data = await cartListApi({});\r\n      if (data.data.info === false) {\r\n        this.listData = [];\r\n        this.allPrise = 0;\r\n        this.Listids = [];\r\n        return false;\r\n      }\r\n      for (let i = 0; i < data.data.info.goods_list.length; i++) {\r\n        data.data.info.goods_list[i].textStyle = \"\";\r\n        data.data.info.goods_list[i].textStyle1 = \"\";\r\n      }\r\n      if (data.data.hasOwnProperty(\"info\")) {\r\n        this.listData = data.data.info.goods_list;\r\n        for (let key in this.listData) {\r\n          if (this.listData[key].is_checked === \"true\") {\r\n            this.Listids[key] = this.listData[key].goods_id;\r\n          }else {\n\t\t\t  this.Listids[key] = '';\n\t\t  }\r\n        }\r\n      }\r\n      if (!data.data.info) {\r\n        this.listData = [];\r\n        this.listData.length = 0;\r\n        this.Listids.length = 0;\r\n      } else {\r\n        this.allPrise = data.data.info.total.check_goods_price;\r\n      }\r\n    },\r\n    async allCheck() {\r\n      //先清空\r\n      this.Listids = [];\r\n      if (this.allcheck) {\r\n        this.allcheck = false;\r\n        const data = await cartCheckAllApi({\r\n          ischecked: 0,\r\n        });\r\n        this.allPrise = data.data.data.total.goods_price;\r\n\r\n        console.log(data.data);\r\n      } else {\r\n        this.allcheck = true;\r\n        //循环遍历所有的商品id\r\n        for (let i = 0; i < this.listData.length; i++) {\r\n          const element = this.listData[i];\r\n          this.Listids.push(element.goods_id);\r\n        }\r\n        const data = await cartCheckAllApi({\r\n          ischecked: 1,\r\n        });\r\n        this.allPrise = data.data.data.total.goods_price;\r\n      }\r\n    },\r\n    change(e) {},\r\n\t//点击进入详情\r\n\tgoodsDetail(id) {\r\n\t  uni.navigateTo({\r\n\t    url: \"/apiShop/goods/main?id=\" + id,\r\n\t  });\r\n\t},\r\n    async changeColor(index, id) {\r\n      console.info(index);\r\n      console.info(id);\r\n      if (this.Listids[index]) {\r\n        this.$set(this.Listids, index, false);\r\n\r\n        const data = await cartCheckApi({\r\n          id: id,\r\n          ischecked: 0,\r\n        });\r\n        this.allPrise = data.data.data.total.goods_price;\r\n      } else {\r\n        this.$set(this.Listids, index, id);\r\n\r\n        const data = await cartCheckApi({\r\n          id: id,\r\n          ischecked: 1,\r\n        });\r\n        this.allPrise = data.data.data.total.goods_price;\r\n      }\r\n      console.log(\"---------\");\r\n      console.log(this.allPrise);\r\n      console.log(\"===========\");\r\n    },\r\n  },\r\n  computed: {\r\n    isCheckedNumber() {\r\n      let number = 0;\r\n      for (let i = 0; i < this.Listids.length; i++) {\r\n        if (this.Listids[i]) {\r\n          number++;\r\n        }\r\n      }\r\n      if (number == this.listData.length && number != 0) {\r\n        this.allcheck = true;\r\n      } else {\r\n        this.allcheck = false;\r\n      }\r\n      return number;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang='scss' scoped>\r\n@import \"./style\";\r\n@import '../../apiShop/newgoodslist/style';\r\n.newgoods{\r\n\tmargin-bottom: 80rpx;\r\n\t.sortlist{\r\n\t\t.name{\r\n\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t  display: -webkit-box;\r\n\t\t\t  line-clamp: 2;\r\n\t\t\t  -webkit-line-clamp: 2;\r\n\t\t\t  overflow: hidden;\r\n\t\t\t  text-overflow: ellipsis;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&id=10c981c2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&id=10c981c2&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1607930062004\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}