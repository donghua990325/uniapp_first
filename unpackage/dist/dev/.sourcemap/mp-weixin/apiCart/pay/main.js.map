{"version":3,"sources":["uni-app:///main.js","webpack:///E:/app/apiCart/pay/main.vue?d240","webpack:///E:/app/apiCart/pay/main.vue?5b68","webpack:///E:/app/apiCart/pay/main.vue?bca3","webpack:///E:/app/apiCart/pay/main.vue?b824","uni-app:///apiCart/pay/main.vue","webpack:///E:/app/apiCart/pay/main.vue?5264","webpack:///E:/app/apiCart/pay/main.vue?a5d2"],"names":["createPage","Page"],"mappings":"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","file":"apiCart/pay/main.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './apiCart/pay/main.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./main.vue?vue&type=template&id=25b3dde3&scoped=true&\"\nvar renderjs\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=25b3dde3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25b3dde3\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"apiCart/pay/main.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=template&id=25b3dde3&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.paytype = \"wxpaywxapp\"\n    }\n\n    _vm.e1 = function($event) {\n      _vm.paytype = \"deposit\"\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"","<template>\n  <view>\n    <cu-custom bgColor=\"bg-white\" :isBack=\"true\">\n      <block slot=\"backText\">返回</block>\n      <block slot=\"content\">支付</block>\n    </cu-custom>\n    <div class=\"container\">\n      <div class=\"total\">\n        <div class=\"label\">订单号</div>\n        <div class=\"txt\">{{ orderId }}</div>\n      </div>\n      <div class=\"total\">\n        <div class=\"label\">订单金额</div>\n        <div class=\"txt\">¥ {{ actualPrice }}</div>\n      </div>\n      <div class=\"pay-list\">\n        <div class=\"h\">请选择支付方式</div>\n        <div class=\"b\">\n          <!--  #ifdef  MP-WEIXIN -->\n          <div\n            class=\"item\"\n            @tap=\"paytype = 'wxpaywxapp'\"\n            v-if=\"small_is_use == 'on'\"\n          >\n            <div\n              class=\"checkbox\"\n              :class=\"['wxpaywxapp' === paytype ? 'checked' : '']\"\n            ></div>\n            <div class=\"icon-wechat\"></div>\n            <div class=\"name\">微信支付</div>\n          </div>\n          <!--  #endif -->\n\n          <!--  #ifdef  MP-ALIPAY -->\n          <div\n            class=\"item\"\n            @tap=\"paytype = 'malipaymyapp'\"\n            v-if=\"zhifu_is_use == 'on'\"\n          >\n            <div\n              class=\"checkbox\"\n              :class=\"['malipaymyapp' === paytype ? 'checked' : '']\"\n            ></div>\n            <div class=\"icon-Alipay\"></div>\n            <div class=\"name\">支付宝</div>\n          </div>\n          <!--  #endif -->\n\n          <!--  #ifdef  H5-->\n          <div\n            class=\"item\"\n            @tap=\"paytype = 'wxpayh5'\"\n            v-if=\"hfive_is_use == 'on'\"\n          >\n            <div\n              class=\"checkbox\"\n              :class=\"['wxpayh5' === paytype ? 'checked' : '']\"\n            ></div>\n            <div class=\"icon-wechat\"></div>\n            <div class=\"name\">微信支付</div>\n          </div>\n          <div\n            class=\"item\"\n            @tap=\"paytype = 'malipaynew'\"\n            v-if=\"zhifu_is_use == 'on'\"\n          >\n            <div\n              class=\"checkbox\"\n              :class=\"['malipaynew' === paytype ? 'checked' : '']\"\n            ></div>\n            <div class=\"icon-Alipay\"></div>\n            <div class=\"name\">支付宝</div>\n          </div>\n          <!--  #endif -->\n          <!--  #ifdef  APP-PLUS -->\n          <div\n            class=\"item\"\n            @tap=\"paytype = 'wxpayappplus'\"\n            v-if=\"app_is_use == 'on'\"\n          >\n            <div\n              class=\"checkbox\"\n              :class=\"['wxpayappplus' === paytype ? 'checked' : '']\"\n            ></div>\n            <div class=\"icon-wechat\"></div>\n            <div class=\"name\">微信支付</div>\n          </div>\n          <div\n            class=\"item\"\n            @tap=\"paytype = 'malipayappplus'\"\n            v-if=\"zhifu_is_use == 'on'\"\n          >\n            <div\n              class=\"checkbox\"\n              :class=\"['malipayappplus' === paytype ? 'checked' : '']\"\n            ></div>\n            <div class=\"icon-Alipay\"></div>\n            <div class=\"name\">支付宝</div>\n          </div>\n          <!--  #endif -->\n          <div class=\"item\" @tap=\"paytype = 'deposit'\">\n            <div\n              class=\"checkbox\"\n              :class=\"['deposit' === paytype ? 'checked' : '']\"\n            ></div>\n            <div class=\"icon-balance\"></div>\n            <div class=\"name\">预存款支付 (余额：{{ advance }})</div>\n          </div>\n        </div>\n      </div>\n\n      <!--  #ifdef  MP-WEIXIN -->\n      <div class=\"tips\">\n        微信小程序只支持微信支付和预存款支付，如需其它支付方式，请在网页版支付\n      </div>\n      <!--  #endif -->\n      <!--  #ifdef  MP-ALIPAY -->\n      <div class=\"tips\">\n        支付宝小程序只支持支付宝支付和预存款支付，如需其它支付方式，请在网页版支付\n      </div>\n      <!--  #endif -->\n      <!-- \t\t<view class=\"cu-bar bg-white margin-top\">\n\t\t\t<view class=\"action\">\n\t\t\t\t<text class=\"cuIcon-title text-orange \"></text> 对话窗口\n\t\t\t</view>\n\t\t\t<view class=\"action\">\n\t\t\t\t<button class=\"cu-btn bg-green shadow\" @tap=\"showModal\" data-target=\"DialogModal1\">Dialog</button>\n\t\t\t\t<button class=\"cu-btn bg-blue shadow margin-left\" @tap=\"showModal\" data-target=\"DialogModal2\">Dialog</button>\n\t\t\t</view>\n\t\t</view> -->\n      <view class=\"cu-modal\" :class=\"modalName == 'DialogModal1' ? 'show' : ''\">\n        <view class=\"cu-dialog\">\n          <view class=\"cu-bar bg-white justify-end\">\n            <view class=\"content\">确定离开？</view>\n            <view class=\"action\" @tap=\"hideModal\">\n              <text class=\"cuIcon-close text-red\"></text>\n            </view>\n          </view>\n          <view class=\"padding-xl\"> 是否需要放弃支付？ </view>\n          <view class=\"cu-bar bg-white justify-end\">\n            <view class=\"action\">\n              <button class=\"cu-btn line-green text-green\" @tap=\"hideModal\">\n                取消\n              </button>\n              <button class=\"cu-btn bg-green margin-left\" @click=\"back\">\n                确定\n              </button>\n            </view>\n          </view>\n        </view>\n      </view>\n      <div class=\"pay-btn\" @click=\"startPay\">确定</div>\n\n      <div class=\"pay-btn-qu\" @tap=\"showModal\" data-target=\"DialogModal1\">\n        取消\n      </div>\n    </div>\n  </view>\n</template>\n\n<script>\nimport {\n  payDetailApi,\n  getPaymentListApi,\n  doPaymentBalanceApi,\n  payDopaymentApi,\n  doPaymentMpH5Api,\n  memberInfoApi,\n  doPaymentAliAppAPi,\n  doPaymentWxAppAPi,\n  loginWechatApi,\n  wechatPayApi,\n  payCardApi,\n  getPaymentIsUseApi,\n} from \"../../server/config.js\";\nimport { toLogin } from \"@/server/api.js\";\n\nexport default {\n  onLoad(opt) {\n    this.orderId = opt.orderId;\n    this.code = opt.code;\n    this.orderDetail();\n  },\n  onShow() {\n    //判断是否登录，没有直接跳转登录界面\n    toLogin();\n    uni.getStorageSync(\"bonusName\", \"\"); // 清除红包信息\n    uni.getStorageSync(\"bonus_id\", \"\");\n    this.advance = uni.getStorageSync(\"advance\");\n    // #ifdef H5\n    this.iswechatH5 = this.is_weixn();\n    // #endif\n\n    if (this.code) {\n      this.wxpayh5Pay();\n    }\n\n    // #ifdef MP-WEIXIN\n    if (!uni.getStorageSync(\"openId\")) {\n      this.getWechatOpenid();\n    }\n    // #endif\n  },\n  mounted() {\n    this.getPayment();\n    this.GetAdvance();\n    this.getPaymentIsUse();\n  },\n  data() {\n    return {\n      modalName: null,\n      orderId: 0,\n      actualPrice: 0.0,\n      advance: \"\",\n      payParams: [],\n      balance_amount: 0.0,\n      pay_id: \"\",\n      //默认支付方式显示\n      // #ifdef MP-WEIXIN\n      paytype: \"wxpaywxapp\", //支付类型\n      // #endif\n      // #ifdef MP-ALIPAY\n      paytype: \"malipaymyapp\", //支付类型\n      // #endif\n      // #ifdef H5\n      paytype: \"wxpayh5\", //支付类型\n      // #endif\n      // #ifdef APP-PLUS\n      paytype: \"wxpayappplus\", //支付类型\n      paytype: \"bankcard\", //支付类型\n      // #endif\n      alipaywap: \"\", // 支付宝手机网页支付地址\n      goods_name: \"\", // 订单商品名称 即支付订单显示描述 取订单第一个商品的名字\n      advance: 0, // 余额  取缓存\n      code: \"\", // 微信code\n      small_is_use: \"\", //微信支付、小程序\n      hfive_is_use: \"\", //微信支付、h5\n      app_is_use: \"\", //微信支付、app\n      zhifu_is_use: \"\", //支付宝支付\n      iswechatH5: \"\", //是否是微信H5支付\n    };\n  },\n  methods: {\n    showModal(e) {\n      this.modalName = e.currentTarget.dataset.target;\n    },\n    hideModal(e) {\n      this.modalName = null;\n    },\n    async back() {\n      uni.switchTab({\n        url: \"/pages/my/main\",\n      });\n    },\n    // #ifdef H5\n    is_weixn() {\n      var ua = navigator.userAgent.toLowerCase();\n      if (ua.match(/MicroMessenger/i) == \"micromessenger\") {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    // #endif\n\n    async orderDetail() {\n      const data = await payDetailApi({\n        order_id: this.orderId,\n      });\n      if (data.data.pay_detail === false) {\n        uni.showToast({\n          title: \"不存在此订单\",\n          icon: \"none\",\n          duration: 2000,\n        });\n        uni.navigateTo({ url: \"/pages/index/main\" });\n\n        return false;\n      }\n      this.actualPrice = data.data.info.total_fee;\n      this.order = data.data.info;\n      this.order_id = this.$root.$mp.query.orderId;\n      this.payment_list = data.data.info.payment_list;\n      this.alipaywap = data.data.other.url;\n      this.goods_name = data.data.other.goods_name;\n\n      console.log(\"-----\");\n      console.log(data);\n      console.log(\"-----\");\n    },\n\n    selectPayment(paymentId) {\n      this.pay_id = paymentId;\n    },\n    async GetAdvance() {\n      const data = await memberInfoApi({});\n      this.advance = data.data.info.user_money;\n    },\n    async doPay() {\n      if (this.pay_id === \"balance\") {\n        let data = await doPaymentBalanceApi({\n          order_id: this.$root.$mp.query.orderId,\n          pay_id: this.pay_id,\n        });\n        if (!data.data.dopay) {\n          uni.showToast({\n            title: data.data.info,\n            icon: \"none\",\n            duration: 1000,\n          });\n          setTimeout(() => {\n            uni.redirectTo({\n              url:\n                \"/apiMember/orderdetail/main?id=\" +\n                this.$root.$mp.query.orderId,\n            });\n          }, 1000);\n        } else {\n          uni.showToast({\n            title: \"订单支付成功\",\n            icon: \"none\",\n            duration: 1000,\n          });\n          setTimeout(() => {\n            uni.redirectTo({\n              url:\n                \"/apiMember/orderdetail/main?id=\" +\n                this.$root.$mp.query.orderId,\n            });\n          }, 1000);\n        }\n      }\n    },\n\n    async getPayment() {\n      let paymentData = await getPaymentListApi({});\n      if (paymentData.data.info.length === 0) {\n        uni.showToast({\n          title: \"请配置支付方式\",\n          icon: \"none\",\n          duration: 2000,\n        });\n      } else {\n        this.pay_id = paymentData.data.info[0].pay_code;\n      }\n\n      paymentData.data.info.forEach((obj) => {\n        if (obj.pay_code === \"balance\") {\n          this.balance = true;\n          this.balance_amount = obj.amount_txt;\n        }\n        if (obj.pay_code === \"alipay\") {\n          this.alipay = true;\n        }\n        if (obj.pay_code === \"wxpay\") {\n          this.wxpay = true;\n        }\n      });\n    },\n    //总的点击按钮\n    async startPay() {\n      // console.log(\"类型\"+this.paytype);\n      switch (this.paytype) {\n        //预存款支付\n        case \"deposit\":\n          this.depositPay();\n          return false;\n          break;\n\n        //小程序微信支付\n        case \"wxpaywxapp\":\n          this.wxpaywxappPay();\n          return false;\n          break;\n        //小程序支付宝支付\n        case \"malipaymyapp\":\n          this.malipaymyappPay();\n          return false;\n          break;\n        //微信H5支付\n        case \"wxpayh5\":\n          this.wxpayh5Pay();\n          return false;\n          break;\n        //支付宝H5支付\n        case \"malipaynew\":\n          this.malipaynewPay();\n          return false;\n          break;\n        //微信app支付\n        case \"wxpayappplus\":\n          this.wxpayappplusPay();\n          return false;\n          break;\n        //支付宝app支付\n        case \"malipayappplus\":\n          this.malipayappplusPay();\n          return false;\n        //线下支付\n        case \"bankcard\":\n          this.bankcardPay();\n          return false;\n          break;\n        default:\n          return false;\n          break;\n      }\n    },\n    //预存款支付\n    async depositPay() {\n      if (Number(this.advance) < Number(this.actualPrice)) {\n        uni.showToast({\n          icon: \"none\",\n          title: \"余额不足\",\n        });\n        return false;\n      }\n      const payParams = await doPaymentBalanceApi({\n        pay_id: this.paytype,\n        order_id: this.orderId,\n        money: this.actualPrice,\n      });\n      if (payParams.data.dopay === false) {\n        // 支付失败\n\n        uni.redirectTo({\n          url:\n            \"/apiCart/payresult/main?status=0&orderId=\" +\n            this.orderId +\n            \"&money=\" +\n            this.actualPrice +\n            \"&paytype=\" +\n            this.paytype,\n        });\n        return false;\n      }\n      uni.redirectTo({\n        url:\n          \"/apiCart/payresult/main?status=1&orderId=\" +\n          this.orderId +\n          \"&money=\" +\n          this.actualPrice +\n          \"&paytype=\" +\n          this.paytype,\n      });\n    },\n    // 微信小程序支付\n    async wxpaywxappPay() {\n      const payParams = await payDopaymentApi({\n        pay_type: \"wxpayMp\",\n        order_id: this.orderId,\n        money: this.actualPrice,\n        openid: uni.getStorageSync(\"openId\"),\n      });\n      if (payParams.data.res === false) {\n        uni.showToast({\n          icon: \"none\",\n          title: payParams.data.msg,\n        });\n        return false;\n      }\n      this.payParams = payParams;\n      let _this = this;\n      uni.requestPayment({\n        provider: \"wxpay\",\n        timeStamp: payParams.data.timeStamp,\n        nonceStr: payParams.data.nonceStr,\n        package: payParams.data.package,\n        signType: \"MD5\",\n        paySign: payParams.data.paySign,\n        success: function (res) {\n          uni.redirectTo({\n            url:\n              \"/apiCart/payresult/main?status=1&orderId=\" +\n              _this.orderId +\n              \"&money=\" +\n              _this.actualPrice,\n          });\n        },\n        fail: function (res) {\n          console.log(_this.orderId);\n          uni.redirectTo({\n            url:\n              \"/apiCart/payresult/main?status=0&orderId=\" +\n              _this.orderId +\n              \"&money=\" +\n              _this.actualPrice,\n          });\n        },\n      });\n    },\n    // 支付宝小程序支付\n    async malipaymyappPay() {\n      const payParams = await payDopaymentApi({\n        paytype: this.paytype,\n        orderId: this.orderId,\n        money: this.actualPrice,\n      });\n      console.log(payParams);\n      this.payParams = payParams;\n      let _this = this;\n      if (this.payParams.trade_no) {\n        uni.tradePay({\n          tradeNO: this.payParams.trade_no,\n          success: function (res) {\n            // uni.alert(res.resultCode);\n            console.log(res);\n            uni.redirectTo({\n              url:\n                \"/apiCart/payresult/main?status=1&orderId=\" +\n                _this.orderId +\n                \"&money=\" +\n                _this.actualPrice +\n                \"&paytype=\" +\n                this.paytype,\n            });\n          },\n          fail: function (res) {\n            uni.redirectTo({\n              url:\n                \"/apiCart/payresult/main?status=0&orderId=\" +\n                _this.orderId +\n                \"&money=\" +\n                _this.actualPrice +\n                \"&paytype=\" +\n                this.paytype,\n            });\n            // uni.alert(res.resultCode);\n            console.log(res);\n          },\n        });\n      }\n    },\n    // 微信H5支付\n    async wxpayh5Pay() {\n      if (this.iswechatH5) {\n        const wechatPay = await wechatPayApi({\n          order_id: this.orderId,\n          code: this.code,\n          money: this.actualPrice,\n        });\n\n        if (wechatPay.data.status == \"code\") {\n          window.location = wechatPay.data.url;\n          return false;\n        }\n        if (wechatPay.data.res === true) {\n          // var pay_info = wechatPay.data.result;\n          var params = {\n            //公众号名称，由商户传入\n            appId: wechatPay.data.result.appId, // merchant id\n            //时间戳，自1970年以来的秒数\n            timeStamp: wechatPay.data.result.timeStamp, // prepay id\n            //随机字符串\n            nonceStr: wechatPay.data.result.nonceStr, // nonce\n\n            package: wechatPay.data.result.package, // timestamp\n            //微信签名方式：\n            signType: \"MD5\", // signed string\n            //Sign=WXPay\n            paySign: wechatPay.data.result.paySign,\n          };\n          this.onBridgeReady(params, wechatPay.data.redirect_url);\n        } else {\n          // 失败\n          uni.showToast({\n            title: wechatPay.data.msg,\n            icon: \"none\",\n            duration: 1500,\n          });\n          return false;\n        }\n        return false;\n      }\n      const payParams = await payDopaymentApi({\n        pay_id: this.paytype,\n        order_id: this.orderId,\n        money: this.actualPrice,\n        pay_type: \"wxpayH5\",\n      });\n      if (payParams.data.res === false) {\n        // 失败\n        uni.showToast({\n          title: payParams.data.msg,\n          icon: \"none\",\n          duration: 1500,\n        });\n        return false;\n      }\n      if (payParams.data.res === true) {\n        // 跳往微信\n\n        location.href = payParams.data.url;\n      }\n    },\n    // 支付宝H5支付\n    async malipaynewPay() {\n      console.log(window.location.href);\n      let pay_url =\n        this.alipaywap +\n        \"&order_sn=\" +\n        this.orderId +\n        \"&body=\" +\n        this.goods_name +\n        \"&money=\" +\n        this.actualPrice +\n        \"&quit_url=\" +\n        window.location.href;\n      console.log(pay_url);\n      location.href = pay_url;\n    },\n    // 微信app支付\n    async wxpayappplusPay() {\n      console.log(\"微信APP支付\");\n      const payParams = await payDopaymentApi({\n        order_id: this.orderId,\n        money: this.actualPrice,\n        pay_type: \"wxpayApp\",\n      });\n      uni.requestPayment({\n        provider: \"wxpay\",\n        orderInfo: payParams.data.response,\n        success: function (res) {\n          console.log(\"支付成功\");\n          console.log(res);\n        },\n        fail: function (res) {\n          console.log(\"失败\");\n          console.log(res);\n        },\n      });\n    },\n    async bankcardPay() {\n      let _this = this;\n      const payParams = await payDopaymentApi({\n        order_id: this.orderId,\n        money: this.actualPrice,\n        pay_type: \"bankcard\",\n      });\n\n      uni.redirectTo({\n        url:\n          \"/apiCart/payresult/main?status=1&orderId=\" +\n          _this.orderId +\n          \"&money=\" +\n          _this.actualPrice +\n          \"&paytype=\" +\n          this.paytype,\n      });\n    },\n    async onBridgeReady(target, redirect_url) {\n      WeixinJSBridge.invoke(\"getBrandWCPayRequest\", target, function (res) {\n        // alert(JSON.stringify(target));\n        // alert(JSON.stringify(res));\n        if (res.err_msg == \"get_brand_wcpay_request:ok\") {\n          // 使用以上方式判断前端返回,微信团队郑重提示：\n          //res.err_msg将在用户支付成功后返回ok，但并不保证它绝对可靠。\n          location.href = redirect_url;\n        }\n      });\n    },\n    // 支付宝app支付\n    async malipayappplusPay() {\n      console.log(\"支付宝支付\");\n      const payParams = await payDopaymentApi({\n        order_id: this.orderId,\n        money: this.actualPrice,\n        pay_type: \"alipayApp\",\n      });\n      let _this = this;\n      uni.requestPayment({\n        provider: \"alipay\",\n        orderInfo: payParams.data.response.payInfo,\n        success: function (res) {\n          console.log(res);\n          console.log(\"成功支付\");\n          console.log(_this.orderId);\n          console.log(\"-------\");\n          uni.redirectTo({\n            url: \"/apiCart/payresult/main?status=1&orderId=\" + _this.orderId,\n          });\n        },\n        fail: function (res) {\n          console.log(res);\n          console.log(\"支付失败\");\n        },\n      });\n    },\n    async getWechatOpenid() {\n      //微信登录开始\n      uni.showLoading({\n        title: \"登录中...\", //提示的内容,\n        mask: true, //显示透明蒙层，防止触摸穿透,\n        success: (res) => {},\n      });\n\n      // 微信登录开始\n      uni.login({\n        success: async (res) => {\n          if (res.code) {\n            this.code = res.code;\n            console.log(\"code：\" + this.code);\n            const data = await loginWechatApi({\n              code: this.code,\n              platform: \"MP-WEIXIN-MOBILE\",\n            });\n            if (data.data.res === true) {\n              // 获取成功 记录openid\n              uni.setStorageSync(\"openId\", data.data.openid); // 将openid记录\n            }\n            uni.setStorageSync(\"openId\", data.data.openid); // 将openid记录\n          }\n        },\n      });\n    },\n    async getPaymentIsUse() {\n      const data = await getPaymentIsUseApi({});\n      this.small_is_use = data.data.small_is_use;\n      this.hfive_is_use = data.data.hfive_is_use;\n      this.app_is_use = data.data.app_is_use;\n      this.zhifu_is_use = data.data.zhifu_is_use;\n    },\n  },\n};\n</script>\n<style lang='scss' scoped>\n@import \"./style\";\n</style>","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&id=25b3dde3&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&id=25b3dde3&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1607929985031\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}