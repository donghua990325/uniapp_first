{"version":3,"sources":["uni-app:///main.js","webpack:///E:/app/apiShop/categorylist/main.vue?c52f","webpack:///E:/app/apiShop/categorylist/main.vue?0a82","webpack:///E:/app/apiShop/categorylist/main.vue?1168","webpack:///E:/app/apiShop/categorylist/main.vue?3dd5","uni-app:///apiShop/categorylist/main.vue","webpack:///E:/app/apiShop/categorylist/main.vue?1b58","webpack:///E:/app/apiShop/categorylist/main.vue?6486"],"names":["createPage","Page"],"mappings":"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","file":"apiShop/categorylist/main.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './apiShop/categorylist/main.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./main.vue?vue&type=template&id=11b3f10f&scoped=true&\"\nvar renderjs\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=11b3f10f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11b3f10f\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"apiShop/categorylist/main.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=template&id=11b3f10f&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"","<template>\n  <view>\n    <cu-custom bgColor=\"bg-white\" :isBack=\"true\">\n      <block slot=\"backText\">返回</block>\n      <block slot=\"content\">分类列表</block>\n    </cu-custom>\n    <div class=\"categoryList\">\n      <scroll-view scroll-x=\"true\" :scroll-left=\"scrollLeft\" class=\"head\">\n        <div\n          @click=\"changeTab(index, item.id)\"\n          :class=\"[nowIndex == index ? 'active' : '']\"\n          v-for=\"(item, index) in navData\"\n          :key=\"index\"\n        >\n          {{ item.name }}\n        </div>\n      </scroll-view>\n      <div class=\"info\">\n        <p>{{ currentNav.name }}</p>\n        <p>{{ currentNav.front_desc }}</p>\n      </div>\n      <div class=\"sortnav\">\n        <div\n          @click=\"filterchangeTab(0)\"\n          :class=\"[0 == nowIndex_filter ? 'active' : '']\"\n        >\n          综合\n        </div>\n        <div\n          @click=\"filterchangeTab(1)\"\n          class=\"price\"\n          :class=\"[1 == nowIndex_filter ? activeClass : '']\"\n        >\n          价格\n        </div>\n        <div\n          @click=\"filterchangeTab(2)\"\n          class=\"price\"\n          :class=\"[2 == nowIndex_filter ? activeClass : '']\"\n        >\n          销量\n        </div>\n      </div>\n      <div class=\"list\" v-if=\"goodsList.length != null\">\n        <div\n          @click=\"goodsDetail(item.id)\"\n          class=\"item\"\n          v-for=\"(item, index) in goodsList\"\n          :key=\"index\"\n        >\n          <img :src=\"item.list_pic_url\" alt=\"\" />\n          <div class=\"goods-name\">\n            <div class=\"name\">{{ item.name }}</div>\n          </div>\n          <p\n            v-if=\"item.show_marketprice == '1'\"\n            style=\"text-decoration: line-through\"\n          >\n            ￥{{ item.market_price }}\n          </p>\n          <p class=\"price\">￥{{ item.retail_price }}</p>\n          <span>已售：{{ item.virtual_sales }}</span>\n        </div>\n      </div>\n      <div v-else class=\"none\">数据库暂无数据...</div>\n    </div>\n  </view>\n</template>\n\n<script>\nimport {\n  categorylistNavListApi,\n  categorylistGoodsListApi,\n} from \"@/server/config.js\";\n\nexport default {\n  onReachBottom() {\n    this.page = this.page + 1;\n    if (this.page > this.pagetotal) {\n      return false;\n    }\r\n\tif(this.type==''){\r\n\t\tthis.getAllData();\r\n\t}else if(this.type = \"name\"){\r\n\t\tthis.filterchangeTab(0)\r\n\t}else if(this.type = \"price\"){\r\n\t\tthis.filterchangeTab(1)\r\n\t}else if(this.type = \"sales\"){\r\n\t\tthis.filterchangeTab(2)\r\n\t}\n  },\n  created() {},\n  onUnload() {},\n  onLoad(options) {\n    this.id = options.id;\n  },\n  mounted() {\n    //获取页面传的参数\n    this.categoryId = this.id;\n    this.getAllData(true);\n    uni.removeStorageSync(\"s_cat_id\");\n  },\n  data() {\n    return {\n      page: 1,\n      pagetotal: \"\",\n      categoryId: \"\",\n      s_cat_id: \"\",\n      activeClass: \"\",\n      order: \"\",\n      type: \"\",\n      nowIndex: 0,\n      nowIndex_filter: 0,\n      goodsList: [],\n      navData: [],\n      currentNav: {},\n      scrollLeft: 0,\n    };\n  },\n  components: {},\n  methods: {\n    async changeTab(index, id) {\n      this.nowIndex = index;\n      this.page = 1;\n      uni.setStorageSync(\"s_cat_id\", id);\n      const listdata = await categorylistGoodsListApi({\n        cat_id: id,\r\n\t\torder: this.order,\n        page: this.page,\n      });\n      this.goodsList = listdata.data.data;\n      this.pagetotal = listdata.data.pagetotal;\n      this.currentNav = listdata.data.currentNav;\n      //需要让导航滚动到可见区域\n      if (this.nowIndex > 4) {\n        this.scrollLeft = this.nowIndex * 60;\n      }\n    },\n    async filterchangeTab(index) {\n      this.nowIndex_filter = index;\n      // this.page = 1;\n      if (uni.getStorageSync(\"s_cat_id\")) {\n        this.s_cat_id = uni.getStorageSync(\"s_cat_id\");\n      } else {\n        this.s_cat_id = this.categoryId;\n      }\r\n\t  if (index == 0) {\n        // this.page = 1;\n        this.type = \"name\";\r\n\t\tthis.order = \"asc\"\r\n\t\t// this.active = this.order;\r\n\t\t//this.activeClass = this.order + 'active' : '';\r\n\t  }\n      else if (index == 1) {\n        this.order = this.order == \"asc\" ? \"desc\" : \"asc\";\n        // this.page = 1;\n        this.type = \"price\";\n        this.activeClass == \"\";\n        this.activeClass = this.order + \" active\";\n      } else if (index == 2) {\n        this.order = this.order == \"asc\" ? \"desc\" : \"asc\";\n        this.page = 1;\n        this.type = \"sales\";\n        this.activeClass = this.order + \" active\";\n      }\n      const listdata = await categorylistGoodsListApi({\n        cat_id: this.s_cat_id,\n        order: this.order,\n        type: this.type,\n        page: this.page,\n      });\n      this.goodsList = listdata.data.data;\n      this.pagetotal = listdata.data.pagetotal;\n      this.currentNav = listdata.data.currentNav;\n      //需要让导航滚动到可见区域\n      if (this.nowIndex_filter > 4) {\n        this.scrollLeft = this.nowIndex_filter * 60;\n      }\n    },\n    async getAllData(first) {\n      if (first) {\n        const navdata = await categorylistNavListApi({\n          cat_id: this.categoryId,\n        });\n        this.navData = navdata.data.navData;\n        console.log(this.navData);\n        this.currentNav = navdata.data.currentNav;\n        for (let i = 0; i < this.navData.length; i++) {\n          const id = this.navData[i].id;\n          if (id == this.currentNav.id) {\n            this.nowIndex = i;\n          }\n        }\n\n        //需要让导航滚动到可见区域\n        if (this.nowIndex > 4) {\n          this.scrollLeft = this.nowIndex * 60;\n        } else {\n          this.scrollLeft = 0;\n        }\n        const listdata = await categorylistGoodsListApi({\n          cat_id: this.categoryId,\r\n\t\t  order: this.order,\n          page: this.page,\n        });\n        this.goodsList = listdata.data.data;\n        this.pagetotal = listdata.data.pagetotal;\n      } else {\n        //上拉加载跟多\r\n        const listdata = await categorylistGoodsListApi({\n          cat_id: this.categoryId,\r\n\t\t  order: this.order,\r\n\t\t  //type:this.type,\n          page: this.page,\n        });\n        this.goodsList = this.goodsList.concat(listdata.data.data);\n      }\n    },\n    goodsDetail(id) {\n      console.log(id);\n      uni.navigateTo({\n        url: \"/apiShop/goods/main?id=\" + id,\n      });\n    },\n  },\n  computed: {},\n};\n</script>\n<style lang='scss' scoped>\n@import \"./style\";\n</style>\n","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&id=11b3f10f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&id=11b3f10f&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1607929985625\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}