{"version":3,"sources":["uni-app:///main.js","webpack:///E:/app/apiShop/goods/main.vue?c626","webpack:///E:/app/apiShop/goods/main.vue?1607","webpack:///E:/app/apiShop/goods/main.vue?eb1d","webpack:///E:/app/apiShop/goods/main.vue?0b62","uni-app:///apiShop/goods/main.vue","webpack:///E:/app/apiShop/goods/main.vue?27ba","webpack:///E:/app/apiShop/goods/main.vue?0271"],"names":["createPage","Page"],"mappings":"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AACA,OANA;AAOA;AACA;AACA;AACA,OAVA;;AAYA,GAtGA;AAuGA,aAvGA,yBAuGA;AACA;AACA,oCADA,GADA,SACA,IADA;;AAIA,gDAJA;AAKA,GA5GA;AA6GA,KA7GA,iBA6GA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,oBAFA;AAGA,sBAHA;;AAKA;AACA,GAxHA;AAyHA,QAzHA,oBAyHA;AACA;AACA;AACA,KAFA,MAEA;AACA;AACA;AACA,GA/HA;AAgIA;AACA,QAjIA,kBAiIA,QAjIA,EAiIA,MAjIA,EAiIA,EAjIA,EAiIA;AACA;AACA;AACA;AACA;AACA;AACA,iDADA;AAEA,cAFA;AAGA,KAPA;AAQA;;AAEA;AACA;AACA;AACA;AACA;AACA,aADA,CACA,GADA,EACA,EADA;AAEA,aAFA,CAEA,GAFA,EAEA,EAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEALA,CAKA;AACA,kEANA,CAMA;AACA;AACA;AACA;AACA,KAhCA;AAiCA;AACA;AACA,GA/KA;AAgLA,WAhLA,uBAgLA,4QAhLA;;AAkLA,aAlLA,yBAkLA;AACA;AACA,qCADA,GADA,SACA,IADA;;AAIA;AACA;AACA,0CADA;AAEA,8BAFA;AAGA,gCAHA;;AAKA,eAVA;AAWA,GA7LA;;AA+LA,gBA/LA,4BA+LA;AACA;AACA,qCADA,GADA,SACA,MADA;;AAIA,iCAJA;AAKA;AACA,qCADA;AAEA,oCAFA,GALA,SAKA,IALA;;AASA;AACA;AACA,2EADA,IAVA;;;AAcA,0CAdA;AAeA;AACA,6BADA;AAEA,4BAFA;AAGA,8BAHA,IAfA;;AAoBA,mBApBA;;AAsBA,GArNA;;AAuNA,mBAvNA,+BAuNA;AACA;AACA,qCADA;AAEA,oCAFA,GADA,SACA,IADA;;AAKA;AACA;AACA,oCADA;AAEA,8BAFA;AAGA,gCAHA;;AAKA,eANA,MAMA;AACA;AACA;AACA;AACA,qDADA;;AAGA,eAjBA;AAkBA,GAzOA;AA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","file":"apiShop/goods/main.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './apiShop/goods/main.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./main.vue?vue&type=template&id=03a4dd9f&scoped=true&\"\nvar renderjs\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=03a4dd9f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03a4dd9f\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"apiShop/goods/main.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=template&id=03a4dd9f&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"","<template>\n  <view>\n    <cu-custom bgColor=\"bg-white\" :isBack=\"true\">\n      <block slot=\"backText\">返回</block>\n      <block slot=\"content\">{{ info.goods_name }}</block>\n    </cu-custom>\n    <div class=\"goods\">\n      <div class=\"swiper\">\n        <swiper\n          class=\"swiper-container\"\n          indicator-dots=\"true\"\n          autoplay=\"true\"\n          interval=\"3000\"\n          duration=\"1000\"\n        >\n          <block v-for=\"(item, index) in gallery\" :key=\"index\">\n            <swiper-item class=\"swiper-item\">\n              <image :src=\"item\" class=\"slide-image\" />\n            </swiper-item>\n          </block>\n        </swiper>\n        <!-- 分享按钮（图片）  -->\n        <!--  #ifdef  MP -->\n        <button class=\"share\" hover-class=\"none\" open-type=\"share\" value>\n          <img :src=\"share_img\" alt />\n        </button>\n\n        <!--  #endif -->\n        <!--  #ifdef  APP-PLUS -->\n        <button class=\"share\" type=\"primary\" @tap=\"shareInfo\">\n          <img :src=\"share_img\" alt />\n        </button>\n        <!--  #endif -->\n      </div>\n      <div class=\"goods-info\">\n        <div class=\"c\">\n          <p>{{ info.goods_name }}</p>\n          <p>{{ info.goods_brief }}</p>\n          <p v-if=\"ral != 'true' && pintuan != '1'\">￥{{ info.shop_price }}</p>\n          <p v-if=\"pintuan == '1'\">￥{{ info.pt_price }}</p>\n          <p style=\"text-decoration: line-through\">￥{{ info.market_price }}</p>\n          <!-- <p>已售：{{info.sales_volume_count}}</p> -->\n          <!-- 秒杀已经开始 -->\n          <div class=\"activity-line\" v-if=\"result_value == '1'\">\n            <div class=\"activity\">\n              <div class=\"title\">秒杀中</div>\n            </div>\n            <div class=\"timer\">\n              <div class=\"text\">距离秒杀结束</div>\n              <uni-countdown\n                color=\"#FFFFFF\"\n                background-color=\"#00B26A\"\n                border-color=\"#00B26A\"\n                :show-day=\"true\"\n                :day=\"end_day\"\n                :hour=\"end_hour\"\n                :minute=\"end_minute\"\n                :second=\"end_second\"\n                :sys_second=\"end_haomiao\"\n                @timeup=\"upstarbuy\"\n              >\n              </uni-countdown>\n            </div>\n          </div>\n\n          <!-- 未开始倒计时 -->\n          <div class=\"activity-line\" v-if=\"result_value == '0'\">\n            <div class=\"activity\">\n              <div class=\"title\">秒杀未开始</div>\n            </div>\n            <div class=\"timer\">\n              <div class=\"text\">距离秒杀开始</div>\n              <uni-countdown\n                color=\"#FFFFFF\"\n                background-color=\"#00B26A\"\n                border-color=\"#00B26A\"\n                :show-day=\"true\"\n                :day=\"end_day\"\n                :hour=\"end_hour\"\n                :minute=\"end_minute\"\n                :second=\"end_second\"\n                :sys_second=\"end_haomiao\"\n                @timeup=\"upstarbuy\"\n              >\n              </uni-countdown>\n            </div>\n          </div>\n\n          <p v-if=\"ral == 'true'\">{{ goodsInergral }}积分</p>\n          <div v-if=\"brand.name\" class=\"brand\"></div>\n        </div>\n      </div>\n\n      <div\n        @click=\"goTomorepintuan(id)\"\n        v-if=\"pintuan == '1'\"\n        class=\"pintuan-nav\"\n      >\n        <div>{{ pt_num }}人正在拼团，可直接参与</div>\n        <div class=\"lookmore\">查看全部拼团</div>\n        <div class=\"right\"></div>\n      </div>\n      <div class=\"pintuanitem\" v-if=\"pintuan == '1'\">\n        <div class=\"item\" v-for=\"(item, index) in pt_list\" :key=\"index\">\n          <image class=\"portrait\" v-if=\"item.avator\" :src=\"item.avator\"></image>\n          <image class=\"portrait\" v-if=\"!item.avator\" :src=\"avator\"></image>\n          <div class=\"name\">{{ item.consignee }}</div>\n          <!-- <div class=\"time\">{{item.add_time|timeFormat()}}</div> -->\n          <div class=\"time\">\n            <uni-countdown\n              color=\"#FFFFFF\"\n              background-color=\"#00B26A\"\n              border-color=\"#00B26A\"\n              :show-day=\"true\"\n              :hour=\"item.hour\"\n              :minute=\"item.min\"\n              :second=\"item.sec\"\n            >\n            </uni-countdown>\n            <div class=\"pd\" @click=\"pindan(item.order_id)\">去拼单</div>\n          </div>\n        </div>\n      </div>\n      <div\n        v-if=\"this.ral != 'true' && prompt\"\n        @click=\"showType\"\n        class=\"section-nav\"\n      >\n        <div style=\"color: red\">\n          <p>{{ prompt }}</p>\n        </div>\n      </div>\n      <div @click=\"showType\" class=\"section-nav\">\n        <div>请选择规格数量</div>\n        <div></div>\n      </div>\n      <div @click=\"gotojudge(info.goods_id)\" class=\"section-nav\">\n        <div>用户评价</div>\n        <div></div>\n      </div>\r\n\t  <div class=\"section-nav\">\r\n\t    <div>购买此商品赠送积分：</div>\r\n\t    <span style=\"padding-right: 20px\"> <span style=\"color: #39B54A;\"> {{ integral }}</span>积分</span>\r\n\t  </div>\r\n\t  <div class=\"section-nav\">\r\n\t    <div>近期销售量：</div>\r\n\t    <span style=\"padding-right: 20px\">{{ info.sales_volume_count }}</span>\r\n\t  </div>\n\n      <div v-if=\"attribute.length != 0\" class=\"attribute\">\n        <div class=\"head\">商品参数</div>\n        <div v-for=\"(item, index) in attribute\" :key=\"index\" class=\"item\">\n          <div>{{ item.name }}</div>\n          <div>{{ item.value }}</div>\n        </div>\n      </div>\n      <div v-if=\"goods_desc\" class=\"detail\">\n        <rich-text :nodes=\"goods_desc\"></rich-text>\n      </div>\n      <!-- 常见问题 -->\n      <div class=\"common-problem\">\n        <div class=\"h\">\n          <div class=\"line\"></div>\n          <text class=\"title\">常见问题</text>\n          <div class=\"line\"></div>\n        </div>\n        <div class=\"b\">\n          <div class=\"item\" v-for=\"(item, index) in issueList\" :key=\"index\">\n            <div class=\"question-box\">\n              <text class=\"spot\"></text>\n              <text class=\"question\">{{ item.question }}</text>\n            </div>\n            <div class=\"answer\">{{ item.answer }}</div>\n          </div>\n        </div>\n      </div>\n      <!-- 常见问题 -->\n      <!-- 附件下载 -->\n      <!-- #ifdef H5 -->\n      <div class=\"common-problem\">\n        <div class=\"h\">\n          <div class=\"line\"></div>\n          <text class=\"title\">相关下载</text>\n          <div class=\"line\"></div>\n        </div>\n        <div class=\"b\">\n          <div class=\"item\" v-for=\"(item, index) in file_list\" :key=\"index\">\n            <div class=\"question-box\">\n              <text class=\"spot\"></text>\n              <a :href=\"item.file_url\" :download=\"item.file_url\" target=\"_blank\"\n                ><text class=\"question\">{{ item.file_name }}</text></a\n              >\n            </div>\n\n            <!-- <div class=\"answer\">{{ item.answer }}</div> -->\n          </div>\n        </div>\n      </div>\n      <!-- #endif -->\n      <!-- 附件下载 -->\n      <!-- 大家都在看 -->\n\n      <div class=\"common-problem\">\n        <div class=\"h\">\n          <div class=\"line\"></div>\n          <text class=\"title\">大家都在看</text>\n          <div class=\"line\"></div>\n        </div>\n        <div class=\"sublist\">\n          <div\n            @click=\"togoodsDetail(subitem.id)\"\n            v-for=\"(subitem, subindex) in productLookList\"\n            :key=\"subindex\"\n          >\n            <img :src=\"subitem.list_pic_url\" alt />\n            <p>{{ subitem.name }}</p>\n            <!-- <p >￥{{subitem.retail_price}}</p> -->\n            <p v-if=\"subitem.active != 'true' && subitem.is_pintuan != '1'\">\n              ￥{{ subitem.retail_price }}\n            </p>\n            <p v-if=\"subitem.active == 'true' && subitem.is_pintuan != '1'\">\n              ￥{{ subitem.spike_sum }}\n            </p>\n            <p v-if=\"subitem.active != 'true' && subitem.is_pintuan == '1'\">\n              ￥{{ subitem.pt_price }}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <!-- 大家都在看 -->\n      <div class=\"bottom-fixed\">\n        <div @click=\"collect\">\n          <div class=\"collect\" :class=\"[collectFlag ? 'active' : '']\"></div>\n        </div>\n        <!--  #ifdef  MP-WEIXIN -->\n        <div class=\"contact\">\n          <button class=\"btn\" open-type=\"contact\" bindcontact=\"handleContact\">\n            <img\n              src=\"https://imgt1.oss-cn-shanghai.aliyuncs.com/ecAllRes/images/ic_goods_cus_service_nor.png\"\n              alt\n            />\n          </button>\n        </div>\n        <!--  #endif -->\n        <!--  #ifdef APP-PLUS -->\n        <!--        <div @tap=\"showModal\" data-target=\"Modal\">-->\n        <div @click=\"openQQ\">\n          <div class=\"btn\">\n            <img\n              src=\"https://imgt1.oss-cn-shanghai.aliyuncs.com/ecAllRes/images/ic_goods_cus_service_nor.png\"\n              alt\n            />\n          </div>\n        </div>\n        <!--  #endif -->\n\n        <!--  #ifdef  H5  -->\n        <!--        <div @tap=\"showModal\" data-target=\"Modal\">-->\n        <div @click=\"openQQ\">\n          <div class=\"btn\">\n            <img\n              src=\"https://imgt1.oss-cn-shanghai.aliyuncs.com/ecAllRes/images/ic_goods_cus_service_nor.png\"\n              alt\n            />\n          </div>\n        </div>\n        <!--  #endif -->\n\n        <div @click=\"toCart\">\n          <div class=\"car\">\n            <span>{{ allnumber }}</span>\n            <img\n              src=\"https://imgt1.oss-cn-shanghai.aliyuncs.com/ecAllRes/images/ic_menu_shoping_nor.png\"\n              alt\n            />\n          </div>\n        </div>\n\n        <div\n          v-if=\"ral != 'true' && active != 'true' && goods_type == ''\"\n          @click=\"fastbuy\"\n        >\n          立即购买\n        </div>\n        <div\n          v-if=\"ral != 'true' && active != 'true' && goods_type == ''\"\n          @click=\"addCart\"\n        >\n          加入购物车\n        </div>\n        <div\n          class=\"trade\"\n          v-if=\"ral == 'true' && active != 'true' && goods_type != 'pintuan'\"\n          @click=\"integral_exchange\"\n        >\n          立即兑换\n        </div>\n        <div\n          class=\"trade\"\n          v-if=\"active == 'true' && result_value == '1'\"\n          @click=\"integral_spike\"\n        >\n          立即抢购\n        </div>\n        <div\n          class=\"trade_one\"\n          v-if=\"active == 'true' && result_value == '0'\"\n          @click=\"integral_no\"\n        >\n          立即抢购\n        </div>\n        <!--  #ifdef  MP-WEIXIN -->\n\n        <!-- <div\n\t\t  class=\"trade\"\n\t\t  v-if=\"active =='true' && result_value == 1\"\n\t\t  @click=\"integral_spike\"\n\t\t>立即抢购</div> -->\n        <div\n          class=\"trade_one\"\n          v-if=\"active == 'true' && result_value == 0\"\n          @click=\"integral_no\"\n        >\n          立即抢购\n        </div>\n        <!--  #endif -->\n        <div\n          v-if=\"goods_type == 'pintuan' && order_id == '0'\"\n          class=\"trade\"\n          @click=\"click_pintuan\"\n        >\n          立即开团\n        </div>\n        <div\n          v-if=\"goods_type == 'pintuan' && order_id != '0'\"\n          class=\"trade\"\n          @click=\"click_pintuan\"\n        >\n          立即拼团\n        </div>\n      </div>\n\n      <!-- 选择规格部分 -->\n      <div v-show=\"showpop\" @click=\"showType\" class=\"pop\"></div>\n      <scroll-view scroll-y='true' class=\"attr-pop\" :class=\"[showpop ? 'fadeup' : 'fadedown']\">\n        <div class=\"top\">\n          <div class=\"left\">\n            <img :src=\"info.goods_thumb\" alt />\n          </div>\n          <div class=\"right\">\n            <div>\n              <p v-if=\"info.is_pintuan == '1'\">价格：￥{{ info.pt_price }}</p>\n              <p v-if=\"this.ral == 'true'\">积分：￥{{ goodsInergral }}</p>\n              <p v-if=\"this.ral != 'true' && info.is_pintuan != '1'\">\n                价格：￥{{ info.shop_price }}\n              </p>\n              <p>库存：{{ defaultSkuStore }}</p>\n              <p>请选择数量</p>\n            </div>\n          </div>\n          <div @click=\"showType\" class=\"close\"><i class=\"cuIcon-close\"></i></div>\n        </div>\n        <div class=\"b\">\n          <ul class=\"spec-list\">\n            <li v-for=\"(item, itemIndex) in goodsSkuNameList\" :key=\"itemIndex\">\n              <h4>{{ item.skuName }}</h4>\n\n              <div\n                v-for=\"(tag, index) in item.skuValList\"\n                :key=\"index\"\n                @click=\"tagVal(itemIndex, index, tag.skuValId)\"\n                :class=\"[\n                  goodsSkuNameList[itemIndex].skuValList[\n                    goodsSkuNameList[itemIndex].activeSkuVal\n                  ].skuValId === tag.skuValId\n                    ? 'active tag tag-hollow'\n                    : 'tag tag-hollow',\n                ]\"\n              >\n                {{ tag.skuVal }}\n              </div>\n            </li>\n          </ul>\n          <p>数量</p>\n          <div class=\"count\">\n            <div @click=\"reduce\" class=\"cut\">-</div>\n            <input class=\"number\" v-model=\"number\" />\n            <div @click=\"add\" class=\"add\">+</div>\n          </div>\n        </div>\n      </scroll-view>\n      <!-- 选择规格部分 -->\n    </div>\n\n    <view class=\"cu-modal\" :class=\"modalName == 'Modal' ? 'show' : ''\">\n      <view class=\"cu-dialog\">\n        <view class=\"cu-bar bg-white justify-end\">\n          <view class=\"content\">客服电话</view>\n          <view class=\"action\" @tap=\"hideModal\">\n            <text class=\"cuIcon-close text-red\"></text>\n          </view>\n        </view>\n        <view class=\"padding-xl\" @click=\"go()\">\n          {{ kefu_tel }}\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport share from \"@/common/share.js\";\nimport uniCountdown from \"@/components/linnian-CountDown/uni-countdown.vue\";\nimport {\n  goodsDetailActionApi,\n  goodsAddCartApi,\n  goodsAddCollectApi,\n  goodsAddCartFastApi,\n  GoodsDiscountApi,\n  getGoodsintegral,\n  getPayPointsApi,\n  pinGoodsApi,\n  getGoodsPintuanApi,\n  getGoodSpikeApi,\n} from \"@/server/config.js\";\nimport { toLogin } from \"@/server/api.js\";\n\nexport default {\n  onLoad() {\n    //#ifdef  MP\n    this.platform = \"微信小程序\";\n    //#endif\n    //#ifdef  APP-PLUS\n    this.platform = \"APP\";\n    //#endif\n    //#ifdef  H5\n    this.platform = \"H5\";\n    //#endif\n  },\n  onShow() {},\n  onLoad(options) {\n    this.parent_id = options.parent_id;\n    this.id = options.id;\n    this.ral = options.ral;\n    this.order_id = options.order_id;\n  },\n  components: { uniCountdown },\n  mounted() {\n    if (this.parent_id) {\n      uni.setStorageSync(\"parent_id\", this.parent_id);\n    }\n    this.id = this.id;\n    this.ral = this.ral;\n    this.order_id = this.order_id; // 这个是获取的一起拼单的id\n    if (this.order_id == null) {\n      this.order_id = \"0\";\n    }\n    if (this.ral == \"true\") {\n      this.exchange_integral();\n    }\n    this.goodsDetail();\n    this.getDiscount();\n\n    // 清除拼团缓存\n    uni.removeStorageSync(\"pt_goods_id\");\n    uni.removeStorageSync(\"pt_product_id\");\n    uni.removeStorageSync(\"pt_num\");\n    uni.removeStorageSync(\"pt_order_id\");\n  },\n  //商品转发\n  onShareAppMessage() {\n    return {\n      title: info.goods_name,\n      path: \"/apiShop/goods/main?id=\" + this.id,\n      imageUrl: this.gallery[0], //拿第一张商品的图片\n    };\n  },\n  data() {\n    return {\n      share_img:\n        \"https://imgt1.oss-cn-shanghai.aliyuncs.com/ecAllRes/images/share.png\", //分享图标\n      qq: 875358601,\n      kefu_tel: \"18888888888\",\n      modalName: null,\n      allnumber: 0,\n      collectFlag: false,\n      number: 1,\n      showpop: false,\n      gallery: [],\n      info: {},\n      brand: {},\n      attribute: [],\n      issueList: [],\n      productLookList: [],\n      skuMap: {}, // 商品规格\n      ral: \"\",\n      goods_desc: \"\",\n      id: \"\",\n      goodsId: \"\",\r\n\t  integral:\"\",\n      productId: \"\",\n      allPrise: \"\",\n      goodsInergral: \"\",\n      defaultSkuStore: \"\", //库存,\n      goodsSkuNameList: \"\",\n      goodsSkuList: \"\",\n      allSkuVal: [],\n      activeSkuValId: {},\n      goods_type: \"\",\n      pintuan: \"0\", // 默认拼团不开启\n      pt_list: [],\n      order_id: \"\", // 默认为不与别人拼团\n      avator:\n        \"https://imgt1.oss-cn-shanghai.aliyuncs.com/ecAllRes/images/missing-face.png\",\n      hitCounts: \"\",\n      platform: \"\",\n      prompt: \"\",\n      active: \"\",\n      end_day: 0,\n      end_hour: 0,\n      end_minute: 0,\n      end_second: 0,\n      end_haomiao: 0,\n      result_value: \"\",\n      pt_num: 0,\n      //    show_marketprice:'',\n      kefu_qq: \"\",\n      file_list: [],\n    };\n  },\n  // components: {\n  //   uniCountdown\n  // },\n  methods: {\n    // 前往拼团页面\n    goTomorepintuan(id) {\n      uni.navigateTo({ url: \"/apiShop/pintuan/main?id=\" + id });\n    },\n    setCacheGoodsList(id, img, goods_name, shop_price) {\n      let historyGoods = uni.getStorageSync(\"historyGoods\");\n      //historyGoods = []\n      if (!historyGoods) {\n        historyGoods = [];\n      } else {\n        historyGoods.forEach((item, index) => {\n          if (item.id === id) {\n            historyGoods.splice(index, 1);\n          }\n        });\n      }\n      let array = { id: id, img: img,goods_name: goods_name,shop_price:shop_price };\n      historyGoods.unshift(array);\n      historyGoods = historyGoods.slice(0, 10);\n      uni.setStorageSync(\"historyGoods\", historyGoods);\n      /**\n\t\tlet array = {'id':id,img:'img'}\n\t\thistoryGoods.unshift(array)\n\n\t\tuni.setStorageSync(\"historyGoods\", historyGoods);\n\n\t\tconsole.info(historyGoods)\n\t\tconsole.info(id)\n\t\tconsole.info(img)\n\n\t\tconsole.info(1)\n\t\t**/\n    },\n    openQQ() {\n      //#ifdef H5\n      // location.href = 'mqqwpa://im/chat?chat_type=wpa&uin='+this.kefu_qq+'&version=1&src_type=web&web_src=oicqzone.com'\n      location.href =\n        \"http://wpa.qq.com/msgrd?v=3&uin=\" + this.kefu_qq + \"&site=qq&menu=yes\";\n      //#endif\n\n      //  //#ifdef  MP-WEIXIN\n      //   location.href = 'http://wpa.qq.com/msgrd?v=3&uin='+this.kefu_qq+'&site=qq&menu=yes'\n      //  //#endif\n\n      // 没有校验qq号是否为空或合法数字，如果不是可用的qq号，启动qq后会停留在qq主界面\n      //#ifdef APP-PLUS\n      let _this = this;\n      uni.showModal({\n        title: \"客服QQ\",\n        content: this.kefu_qq,\n        confirmText: \"打开QQ\",\n        success: function (res) {\n          if (res.confirm) {\n            plus.runtime.openURL(\n              \"mqqwpa://im/chat?chat_type=wpa&uin=\" +\n                _this.kefu_qq +\n                \"&version=1&src_type=web&web_src=lvlingseeds.com\"\n            );\n          } else if (res.cancel) {\n            console.log(\"用户点击取消\");\n          }\n        },\n      });\n      //#endif\n    },\n    togoodsDetail(id) {\n      uni.redirectTo({ url: \"/apiShop/goods/main?id=\" + id });\n    },\n    showModal(e) {\n      // if(this.kefu_qq == '')\n      // {\n      // \tuni.showToast({\n      // \t\ticon:\"none\",\n      // \t\ttitle: '暂未设置QQ'\n      // \t})\n      // \treturn;\n      // }\n      // // wap 为普通qq  crm 为营销QQ\n      // // plus.runtime.openURL('mqqwpa://im/chat?chat_type=wap&uin=' + this.kefu_qq,function (res) {\n      // plus.runtime.openURL('mqq://im/chat?chat_type=wpa&uin=' + this.kefu_qq+ '&version=1&src_type=web ',function (res) {\n      // \tplus.nativeUI.alert(\"本机没有安装QQ，无法启动\");\n      // });\n      // // plus.runtime.openURL('mqq://im/chat?chat_type=wpa&uin=' + this.kefu_qq + '&version=1&src_type=web ');\n      this.modalName = e.currentTarget.dataset.target;\n    },\n    hideModal(e) {\n      this.modalName = null;\n    },\n    go() {\n      uni.makePhoneCall({\n        // 手机号\n        phoneNumber: this.kefu_tel,\n        // 成功回调\n        success: (res) => {\n          console.log(\"调用成功!\");\n        },\n        // 失败回调\n        fail: (res) => {\n          console.log(\"调用失败!\");\n        },\n      });\n    },\n    async getDiscount() {\n      const data = await GoodsDiscountApi({\n        goods_id: this.id,\n      });\n      this.prompt = data.data.discount;\n    },\n    add() {\n      this.number = parseInt(this.number) + 1;\n      if (this.defaultSkuStore < this.number) {\n        this.number = this.defaultSkuStore;\n        //商品无库存\n        uni.showToast({\n          title: \"库存不足\",\n          icon: \"none\",\n          duration: 1500,\n        });\n      }\n    },\n    reduce() {\n      if (this.number > 1) {\n        this.number = parseInt(this.number) - 1;\n      } else {\n        return false;\n      }\n    },\n    // 规格选中\n    tagVal(allIndex, iIndex, id) {\n      this.goodsSkuNameList.forEach((value, index) => {\n        if (index === allIndex) {\n          this.goodsSkuNameList[index].activeSkuVal = iIndex;\n        }\n        this.allSkuVal[index] = this.goodsSkuNameList[index].skuValList[\n          this.goodsSkuNameList[index].activeSkuVal\n        ].skuValId;\n      });\n      this.activeSkuValId[allIndex] = id;\n\n      this.goodsSkuList.forEach((value, index) => {\n        this.goodsSkuList[index].is_default = false;\n        // console.log(this.goodsSkuList[index].skuValIds);\n        // console.log(typeof this.allSkuVal);\n        let result = this.goodsSkuList[index].skuValIds\n          .replace(\"[\", \"\")\n          .replace(\"]\", \"\");\n        // console.log(\"比较的值：\" + result === this.allSkuVal.sort().toString());\n        // console.log(result);\n        // console.log(this.allSkuVal.sort().toString());\n        // let result = JSON.parse(this.goodsSkuList[index].skuValIds);\n        // 比较\n        // if (result.sort().toString() === this.allSkuVal.sort().toString()) {\n        // result = result.split(',');\n        // console.log(result);\n        let tmp = this.allSkuVal.toString();\n        tmp = tmp.split(\",\");\n        tmp = tmp.sort().toString();\n        // console.log(tmp);\n        result = result.split(\",\");\n        result = result.sort().toString();\n        // console.log(result);\n        if (result === tmp) {\n          // console.log(\"kkkk\");\n          // console.log(\"1111---\" + result);\n          // console.log(\"2222---\" + this.allSkuVal.sort().toString());\n          this.goodsSkuList[index].is_default = true;\n          this.defaultSkuStore = this.goodsSkuList[index].stockNum; //库存\n          this.info.shop_price = this.goodsSkuList[index].price; //价格\n          this.productId = this.goodsSkuList[index].product_id;\n          // console.log(\"product_id---\" + this.productId);\n        }\n      });\n      // console.log(this.goodsId);\n      // console.log(this.productId);\n    },\n    async upstarbuy() {},\n\n    async integral_no() {\n      const data = await goodsDetailActionApi({\n        goods_id: this.id,\n      });\n      if (data.data.info.time.default == \"0\") {\n        uni.showToast({\n          title: \"商品秒杀未开始，不能购买哟~~\",\n          icon: \"none\",\n          duration: 2000,\n        });\n      }\n    },\n\n    async integral_spike() {\n      const result = await getGoodSpikeApi({\n        goods_id: this.id,\n      });\n      if (result.data == null) {\n        const data = await getPayPointsApi({\n          goods_id: this.id,\n          num: this.number,\n        });\n        uni.setStorageSync(\"integralGoodsid\", this.id);\n        uni.navigateTo({\n          url: \"/apiCart/order/main?spike=true&goods_id=\" + this.id,\n        });\n      }\n      if (result.data.status == \"fail\") {\n        uni.showToast({\n          title: \"库存不足\",\n          icon: \"none\",\n          duration: 2000,\n        });\n        return false;\n      }\n    },\n\n    async integral_exchange() {\n      const data = await getPayPointsApi({\n        goods_id: this.id,\n        num: this.number,\n      });\n      if (data.data.info == false) {\n        uni.showToast({\n          title: \"积分不足，不能兑换\",\n          icon: \"none\",\n          duration: 2000,\n        });\n      } else {\n        uni.setStorageSync(\"integralGoodsid\", this.id);\n        uni.setStorageSync(\"jifennum\", this.number);\n        uni.navigateTo({\n          url: \"/apiCart/order/main?ral=true\",\n        });\n      }\n    },\n    async fastbuy() {\n      if (toLogin()) {\n        if (this.showpop) {\n          for (let key in this.goodsSkuNameList) {\n            if (this.goodsSkuNameList[key].activeSkuVal === \"\") {\n              uni.showToast({\n                title: \"请选择\" + this.goodsSkuNameList[key].skuName, //提示的内容,\n                duration: 2000, //延迟时间,\n                icon: \"none\",\n                mask: true, //显示透明蒙层，防止触摸穿透,\n                success: (res) => {},\n              });\n              return false;\n            }\n          }\n          if (this.number == 0) {\n            uni.showToast({\n              title: \"请选择商品数量\", //提示的内容,\n              duration: 2000, //延迟时间,\n              icon: \"none\",\n              mask: true, //显示透明蒙层，防止触摸穿透,\n              success: (res) => {},\n            });\n            //return false;\n            //立即购买存一哈\n            // uni.setStorageSync(\"productId\", this.productId);\n            // uni.setStorageSync(\"number\", this.number);\n            // uni.navigateTo({\n            //   url: \"/pages/order/main\"\n            // });\n          }\n          uni.setStorageSync(\"productId\", this.goodsId);\n          let sku = Object.values(this.activeSkuValId).join(\",\");\n          const data = await goodsAddCartFastApi({\n            fastbuy: \"true\",\n            goods_id: this.goodsId,\n            sku: Object.values(this.activeSkuValId).join(\",\"),\n            num: this.number,\n            product_id: this.productId,\n          });\n          console.info(data.data.add_cart);\n          if (data.data.add_cart === false) {\n            uni.showToast({\n              icon: \"none\",\n              title: data.data.msg,\n            });\n            return false;\n          }\n          if (data.data.add_cart) {\n            uni.navigateTo({\n              url: \"/apiCart/order/main\",\n            });\n          }\n        } else {\n          this.showpop = true;\n        }\n      }\n    },\n    async collect() {\n      if (toLogin()) {\n        // let userId = window.sessionStorage.getItem('user_id')\n        // this.collectFlag = !this.collectFlag;\n        const data = await goodsAddCollectApi({\n          goods_id: this.goodsId,\n          collect_status: this.collectFlag,\n        });\n        this.collectFlag = data.data.res;\n        console.log(\"当前的收藏状态\" + this.collectFlag);\n      }\n    },\n    async addCart() {\n      if (toLogin()) {\n        if (this.showpop) {\n          for (let key in this.goodsSkuNameList) {\n            if (this.goodsSkuNameList[key].activeSkuVal === \"\") {\n              uni.showToast({\n                title: \"请选择\" + this.goodsSkuNameList[key].skuName, //提示的内容,\n                duration: 2000, //延迟时间,\n                icon: \"none\",\n                mask: true, //显示透明蒙层，防止触摸穿透,\n                success: (res) => {},\n              });\n\n              return false;\n            }\n          }\n\n          if (this.number == 0) {\n            uni.showToast({\n              title: \"请选择商品数量\", //提示的内容,\n              duration: 2000, //延迟时间,\n              icon: \"none\",\n              mask: true, //显示透明蒙层，防止触摸穿透,\n              success: (res) => {},\n            });\n\n            return false;\n          }\n          let sku = Object.values(this.activeSkuValId).join(\",\");\n          // let userId = window.sessionStorage.getItem('user_id')\n          const data = await goodsAddCartApi({\n            goods_id: this.goodsId,\n            sku: Object.values(this.activeSkuValId).join(\",\"),\n            num: this.number,\n            product_id: this.productId,\n          });\n          if (data.data.add_cart === false) {\n            uni.showToast({\n              icon: \"none\",\n              title: data.data.msg,\n            });\n            return false;\n          }\n          console.log(this.defaultSkuStore);\n          console.log(this.number);\n          if (this.defaultSkuStore < this.number) {\n            //商品无库存\n            uni.showToast({\n              title: \"库存不足\",\n              icon: \"none\",\n              duration: 1500,\n            });\n          } else {\n            //添加成功后\n            this.allnumber = parseInt(this.allnumber) + parseInt(this.number);\n            if (this.allnumber > 99) {\n              this.allnumber = \"99+\";\n            }\n            uni.showToast({\n              title: \"添加购物车成功\",\n              icon: \"success\",\n              duration: 1500,\n            });\n          }\n        } else {\n          this.showpop = true;\n        }\n      }\n    },\n    toCart() {\n      uni.switchTab({\n        url: \"/pages/cart/main\",\n      });\n      // uni.navigateTo({\n      //   url: \"/pages/cart/main\"\n      // });\n    },\n    async goodsDetail() {\n      const data = await goodsDetailActionApi({\n        goods_id: this.id,\n        platform: this.platform,\n      });\n      this.file_list = data.data.file_list; // 附件列表\n      this.hitCounts = data.data.hitCounts;\n      this.gallery = data.data.gallery;\n      this.info = data.data.info;\n      this.allPrise = data.data.info.shop_price;\r\n\t  this.integral = data.data.info.rank_integral;\n      this.goodsId = this.info.goods_id;\n      this.productId = data.data.info.productId;\n      this.brand = data.data.brand;\n      this.url_fenxiang = data.data.url_fenxiang;\n      if (data.data.kefu_tel) {\n        this.kefu_tel = data.data.kefu_tel.val;\n      }\n      if (data.data.kefu_qq) {\n        this.kefu_qq = data.data.kefu_qq;\n      }\n      this.attribute = data.data.attrlist;\n      this.active = data.data.info.active;\n      // this.show_marketprice = data.data.info.show_marketprice;\n      console.log(this.url_fenxiang);\n      // 这个值要与productid的值一致\n\n      this.activeSkuValId = data.data.activeSkuValId;\n      this.miaosha = this.info.active;\n      if (this.miaosha == \"true\") {\n        this.result_value = data.data.info.time.default;\n        this.end_day = data.data.info.time.day;\n        this.end_hour = data.data.info.time.hour;\n        this.end_minute = data.data.info.time.minute;\n        this.end_second = data.data.info.time.second;\n      }\n      this.goods_desc = data.data.info.goods_desc.replace(\n        /\\<img/gi,\n        '<img style=\"max-width:100%;height:auto;vertical-align: bottom;\" '\n      );\n      // #ifdef  MP-ALIPAY\n      this.goods_desc = escape2Html(data.info.goods_desc);\n      // #endif\n      this.issueList = data.data.issue;\n      this.collectFlag = data.data.collected;\n      this.allnumber = data.data.allnumber;\n      if (this.allnumber > \"99\") {\n        this.allnumber = \"99+\";\n      }\n      this.productLookList = data.data.productLookList;\n      // this.collectFlag = data.isFavorite;\n      // console.log(data.data.goodsSkuList[0].stockNum);\n      // console.log(data.data.goodsSkuList[0].stockNum == null);\n      // console.log(data.data.goodsSkuList[0].stockNum == \"\");\n      // console.log(data.data.goodsSkuList[0].stockNum == false);\n      if (data.data.defaultSkuData != \"\" && data.data.defaultSkuData) {\n        this.defaultSkuStore = data.data.defaultSkuData.stock;\n        this.info.shop_price = data.data.defaultSkuData.price;\n\n        let skuList = data.data.goodsSkuList;\n        this.productId = data.data.defaultSkuData.product_id;\n        for (var value of skuList) {\n          if (value.product_id == this.productId) {\n            // 对数据进行处理\n            let skuValIds = value.skuValIds\n              .replace(\"[\", \"\")\n              .replace(\"]\", \"\")\n              .split(\",\");\n            this.activeSkuValId = skuValIds;\n            break;\n          }\n        }\n      } else {\n        this.defaultSkuStore = data.data.defaultSkuStore;\n      }\n\n      this.goodsSkuNameList = data.data.goodsSkuNameList;\n\n      this.goodsSkuList = data.data.goodsSkuList;\n      this.setCacheGoodsList(this.id, this.info.goods_thumb,this.info.goods_name,this.info.shop_price);\n      this.pintuan = data.data.active.pintuan.is_pintuan;\n      if (this.pintuan == \"1\") {\n        this.goods_type = \"pintuan\";\n        this.pt_info = data.data.pt_info;\n        this.pt_list = this.pt_info.pt_list;\n        this.pt_num = this.pt_info.pt_num.num;\n      }\n    },\n    async exchange_integral() {\n      const data = await getGoodsintegral({\n        goods_id: this.id,\n      });\n      // this.shop_price = data.data.exchange_integral;\n      this.goodsInergral = data.data.exchange_integral;\n      // console.log(\"我执行了\"+this.goodsInergral);\n    },\n    async click_pintuan() {\n      if (this.showpop) {\n        for (let key in this.goodsSkuNameList) {\n          if (this.goodsSkuNameList[key].activeSkuVal === \"\") {\n            uni.showToast({\n              title: \"请选择\" + this.goodsSkuNameList[key].skuName, //提示的内容,\n              duration: 2000, //延迟时间,\n              icon: \"none\",\n              mask: true, //显示透明蒙层，防止触摸穿透,\n              success: (res) => {},\n            });\n            return false;\n          }\n        }\n        // 点击拼团\n\n        // 单独拼团\n        if (this.order_id == \"0\") {\n          const data = await getGoodsPintuanApi({\n            goods_id: this.id,\n            order_id: \"0\",\n          });\n          if (data.data.status == \"fail\") {\n            uni.showToast({\n              icon: \"none\",\n              title: \"非拼团商品\",\n            });\n            return false;\n          }\n        } else {\n          // 与他人拼团\n          const data = await getGoodsPintuanApi({\n            goods_id: this.id,\n            order_id: this.order_id,\n          });\n          if (data.data.status == \"fail\") {\n            uni.showToast({\n              icon: \"none\",\n              title: \"拼单商品错误\",\n            });\n            return false;\n          }\n          // 验证通过 记录一下一起拼单的订单号\n          uni.setStorageSync(\"pt_order_id\", this.order_id);\n        }\n\n        // 可拼团跳转到订单页面\n        uni.setStorageSync(\"pt_goods_id\", this.id); // 商品ID\n        uni.setStorageSync(\"pt_product_id\", this.productId); // 属性ID\n        uni.setStorageSync(\"pt_num\", this.number);\n        uni.navigateTo({\n          url: \"/apiCart/order/main?pintuan=true\",\n        });\n      } else {\n        this.showpop = true;\n      }\n    },\n    // 点击拼团\n    pindan(order_id) {\n      this.order_id = order_id;\n      if (this.showpop) {\n        for (let key in this.goodsSkuNameList) {\n          if (this.goodsSkuNameList[key].activeSkuVal === \"\") {\n            uni.showToast({\n              title: \"请选择\" + this.goodsSkuNameList[key].skuName, //提示的内容,\n              duration: 2000, //延迟时间,\n              icon: \"none\",\n              mask: true, //显示透明蒙层，防止触摸穿透,\n              success: (res) => {},\n            });\n            return false;\n          }\n        }\n      } else {\n        this.showpop = true;\n      }\n    },\n    showType() {\n      this.showpop = !this.showpop;\n    },\n    gotojudge(id) {\n      uni.navigateTo({\n        url: \"/apiShop/userjudge/main?id=\" + id,\n      });\n    },\n    //  kefu() {\n    //    //#ifdef H5\n    //    uni.showModal({\n    //      title: \"客服QQ\",\n    //      content: this.qq.toString(),\n    //      confirmText: \"打开QQ\",\n    //      success: function(res) {\n    //        if (res.confirm) {\n    //          let locatUrl =\n    //            \"mqqapi://card/show_pslcard?src_type=internal&version=1&uin=\" +\n    //            this.kefu_qq +\n    //            \"&card_type=person&source=sharecard\";\n    //          window.open(locatUrl);\n    //        } else if (res.cancel) {\n    //          console.log(\"用户点击取消\");\n    //        }\n    //      }\n    //    });\n    //    //#endif\n    // var appUrl = 'mqq://im/chat?chat_type=wpa&uin=' + this.kefu_qq+ '&version=1&src_type=web';\n    //    //#ifdef APP-PLUS\n    //     uni.showModal({\n    //            title: \"客服QQ\",\n    //            content: this.kefu_qq,\n    //            confirmText: \"打开QQ\",\n    //            success: function(res) {\n    //              if (res.confirm) {\n    //                plus.runtime.openURL(appUrl,\n    //    \t\t\t\tfunction(res) {\n    //                    plus.nativeUI.alert(\"本机没有安装QQ，无法启动\");\n    //                  }\n    //                );\n    //              } else if (res.cancel) {\n    //                console.log(\"用户点击取消\");\n    //              }\n    //            }\n    //          });\n    //    //#endif\n    //  },\n    //app+h5分享\n    shareInfo() {\n      let shareInfo = {\n        href: this.url_fenxiang,\n        title: this.info.goods_name,\n        desc: this.info.goods_name,\n        imgUrl: this.info.goods_thumb,\n      };\n      let shareList = [\n        {\n          icon:\n            \"https://imgt1.oss-cn-shanghai.aliyuncs.com/ecAllRes/sharemenu/wx.png\",\n          text: \"微信好友\",\n        },\n        {\n          icon:\n            \"https://imgt1.oss-cn-shanghai.aliyuncs.com/ecAllRes/sharemenu/pyq.png\",\n          text: \"朋友圈\",\n        },\n        // {\n        //   icon:\n        //     \"https://imgt1.oss-cn-shanghai.aliyuncs.com/ecAllRes/sharemenu/weibo.png\",\n        //   text: \"微博\",\n        // },\n        {\n          icon:\n            \"https://imgt1.oss-cn-shanghai.aliyuncs.com/ecAllRes/sharemenu/qq.png\",\n          text: \"QQ\",\n        },\n        {\n          icon:\n            \"https://imgt1.oss-cn-shanghai.aliyuncs.com/ecAllRes/sharemenu/copy.png\",\n          text: \"复制\",\n        },\n        {\n          icon:\n            \"https://imgt1.oss-cn-shanghai.aliyuncs.com/ecAllRes/sharemenu/more.png\",\n          text: \"更多\",\n        },\n      ];\n      this.shareObj = share(shareInfo, shareList, function (index) {\n        console.log(\"点击按钮的序号: \" + index);\n        let shareObj = {\n          href: shareInfo.href || \"\",\n          title: shareInfo.title || \"\",\n          summary: shareInfo.desc || \"\",\n          success: (res) => {\n            console.log(\"success:\" + JSON.stringify(res));\n          },\n          fail: (err) => {\n            console.log(\"fail:\" + JSON.stringify(err));\n          },\n        };\n        switch (index) {\n          case 0:\n            shareObj.provider = \"weixin\";\n            shareObj.scene = \"WXSceneSession\";\n            shareObj.type = 0;\n            shareObj.imageUrl = shareInfo.imgUrl || \"\";\n            uni.share(shareObj);\n            break;\n          case 1:\n            shareObj.provider = \"weixin\";\n            shareObj.scene = \"WXSenceTimeline\";\n            shareObj.type = 0;\n            shareObj.imageUrl = shareInfo.imgUrl || \"\";\n            uni.share(shareObj);\n            break;\n          // case 2:\n          //   shareObj.provider = \"sinaweibo\";\n          //   shareObj.type = 0;\n          //   shareObj.imageUrl = shareInfo.imgUrl || \"\";\n          //   uni.share(shareObj);\n          //   break;\n          case 2:\n            shareObj.provider = \"qq\";\n            shareObj.type = 1;\n            shareObj.imageUrl = shareInfo.imgUrl || \"\";\n            uni.share(shareObj);\n            break;\n          case 3:\n            uni.setClipboardData({\n              data: shareInfo.href,\n              complete() {\n                uni.showToast({\n                  title: \"已复制到剪贴板\",\n                });\n              },\n            });\n            break;\n          case 5:\n            plus.share.sendWithSystem({\n              type: \"web\",\n              title: shareInfo.title || \"\",\n              thumbs: [shareInfo.imgUrl || \"\"],\n              href: shareInfo.href || \"\",\n              content: shareInfo.desc || \"\",\n            });\n            break;\n        }\n      });\n      this.$nextTick(() => {\n        this.shareObj.alphaBg.show();\n        this.shareObj.shareMenu.show();\n      });\n    },\n  },\n  computed: {},\n};\n</script>\n<style lang='scss' scoped>\n@import \"./style.scss\";\n</style>","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&id=03a4dd9f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&id=03a4dd9f&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1607929985512\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}