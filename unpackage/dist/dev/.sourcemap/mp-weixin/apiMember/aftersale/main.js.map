{"version":3,"sources":["uni-app:///main.js","webpack:///E:/app/apiMember/aftersale/main.vue?8c47","webpack:///E:/app/apiMember/aftersale/main.vue?509f","webpack:///E:/app/apiMember/aftersale/main.vue?e28c","webpack:///E:/app/apiMember/aftersale/main.vue?3952","uni-app:///apiMember/aftersale/main.vue","webpack:///E:/app/apiMember/aftersale/main.vue?4a0d","webpack:///E:/app/apiMember/aftersale/main.vue?0912"],"names":["createPage","Page"],"mappings":"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","file":"apiMember/aftersale/main.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './apiMember/aftersale/main.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./main.vue?vue&type=template&id=0b73e7ce&scoped=true&\"\nvar renderjs\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=0b73e7ce&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b73e7ce\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"apiMember/aftersale/main.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=template&id=0b73e7ce&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"","<template>\n  <view>\n    <cu-custom bgColor=\"bg-white\" :isBack=\"true\">\n      <block slot=\"backText\">返回</block>\n      <block slot=\"content\">售后申请</block>\n    </cu-custom>\n    <div class=\"container\">\n      <div class=\"reback-addr top\">\n        <text class=\"name\">请选择服务</text>\n      </div>\n      <div class=\"check-box\">\n        <view class=\"uni-list\">\n          <radio-group>\n            <label\n              class=\"uni-list-cell uni-list-cell-pd\"\n              v-for=\"(item, index) in items\"\n              :key=\"item.value\"\n            >\n              <radio\n                :value=\"item.value\"\n                :checked=\"index === current\"\n                @click=\"tagVal(item.value)\"\n              />{{ item.name }}\n            </label>\n          </radio-group>\n        </view>\n      </div>\n      <div class=\"order-goods\">\n        <div class=\"goods\">\n          <div class=\"item\" v-for=\"(item, index) in orderGoods\" :key=\"item.id\">\n            <div\n              class=\"icon\"\n              @click=\"changeColor(index, item.id, item)\"\n              :class=\"[Listids[index] ? 'active' : '']\"\n            ></div>\n            <div class=\"img\">\n              <image :src=\"item.list_pic_url\" />\n            </div>\n            <div class=\"info\">\n              <div class=\"t\">\n                <text class=\"name\">{{ item.goods_name }}</text>\n              </div>\n              <div class=\"mid\">\n                <div class=\"left\">\n                  <div class=\"attr\">\n                    {{ item.goods_specifition_name_value }}\n                  </div>\n                  <div class=\"price\">￥{{ item.retail_price }}</div>\n                </div>\n                <div class=\"right\">\n                  <span\n                    @click=\"countGoodsNumber(item, false)\"\n                    :class=\"{ disabled: item.number === 1 }\"\n                    >-</span\n                  >\n                  <input\n                    type=\"number\"\n                    v-model=\"item.number\"\n                    disabled=\"disabled\"\n                  />\n                  <span @click=\"countGoodsNumber(item, true)\">+</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"reback-info\">\n        <div class=\"titles\" @click=\"showList\" :class=\"[show ? 'active' : '']\">\n          请选择原因\n          <span class=\"note\">\n            <div v-if=\"title == ''\">请选择原因</div>\n            <div v-else>{{ title }}</div>\n            <img\n              src=\"https://res.jinjiajin.net/vue-wx/images/address_right.png\"\n              class=\"right\"\n              :class=\"[show ? 'active' : '']\"\n            />\n          </span>\n        </div>\n        <div\n          class=\"coupon-lists\"\n          v-if=\"show\"\n          v-for=\"(item, index) in list\"\n          :key=\"index\"\n        >\n          <div class=\"li\" @click=\"selectList(item)\">{{ item }}</div>\n        </div>\n        <div class=\"desc\">\n          <textarea\n            style=\"display: block\"\n            name\n            id\n            cols=\"100%\"\n            rows=\"3\"\n            v-model=\"content\"\n            placeholder=\"为了尽快处理您的申请，请填写详细描述（10-300字）\"\n          ></textarea>\n        </div>\n      </div>\n      <div class=\"btn-group\">\n        <div class=\"cancle\" @click=\"submitAfterSale()\">提交</div>\n      </div>\n    </div>\n  </view>\n</template>\n\n<script>\nimport {\n  orderdetailGetApi,\n  cartCheckApi,\n  aftersaleGetDetailApi,\n  submitAfterSaleApi,\n  aftersaleAddApi,\n} from \"@/server/config.js\";\nimport { toLogin } from \"@/server/api.js\";\nexport default {\n  onLoad(options) {\n    this.orderId = options.orderId;\n  },\n  onShow() {\n    //判断是否登录，没有直接跳转登录界面\n    toLogin();\n    this.orderId = this.orderId;\n  },\n  data() {\n    return {\n      list: [\n        //下拉款要展示的数据\n        \"拍错了，重拍\",\n        \"不想要了\",\n        \"型号不对\",\n      ],\n      items: [\n        {\n          //服务选择\n          value: \"仅退款\",\n          name: \"仅退款\",\n        },\n        {\n          value: \"退货退款\",\n          name: \"退货退款\",\n          checked: \"true\",\n        },\n      ],\n      i: 0,\n      Listids: [],\n      current: 0,\n      notice: \"为了尽快处理你的售后申请，请填写详细描述（10-300字）\",\n      value: \"\",\n      productList: [],\n      orderId: 0,\n      user: {\n        name: \"张三\",\n        tel: 13888886666,\n      },\n      orderInfo: {},\n      orderGoods: [],\n      handleOption: {},\n      orderId: \"\",\n      afterType: \"仅退款\",\n      goods_active: \"false\",\n      title: \"\",\n      content: \"\",\n      goods_id: \"\",\n      show: false,\n    };\n  },\n  components: {},\n  async mounted() {\n    if (this.$mp.query.id) {\n      this.orderId = parseInt(this.$mp.query.id);\n    }\n    this.getOrderDetail();\n  },\n  methods: {\n    showList() {\n      if (this.show == true) {\n        this.show = false;\n      } else {\n        this.show = true;\n      }\n    },\n    selectList(item) {\n      this.title = item;\n      this.show = false;\n    },\n    changeMsg(event) {\n      this.title = event.newVal;\n    },\n    tagVal(value) {\n      this.afterType = value;\n    },\n    goods_Id(value) {\n      alert(value);\n      this.goods_id = value;\n    },\n    // 获取订单数据\n    async getOrderDetail() {\n      //下面订单编号写死了\n      const res = await orderdetailGetApi({\n        orderId: this.orderId,\n      });\n      this.orderInfo = res.data.orderInfo;\n      this.orderGoods = res.data.orderGoods;\n      this.goods_id = this.orderGoods[0].id;\n      this.handleOption = res.data.handleOption;\n    },\n    // 商品数量加减\n    async countGoodsNumber(goods, flag) {\n      console.log(goods);\n      const num = goods.number;\n      if (flag) {\n        goods.number++;\n        if (goods.number > num) {\n          uni.showToast({\n            title: \"不能超过最大商品数量\",\n            icon: \"none\",\n            duration: 1500,\n          });\n          goods.number--;\n        }\n      } else {\n        if (goods.number <= 1) {\n          uni.showToast({\n            title: \"最少选择一件商品\",\n            icon: \"none\",\n            duration: 1500,\n          });\n\n          goods.number = 1;\n          return;\n        }\n        goods.number--;\n      }\n    },\n    // 制作倒计时用的，暂时不需要\n    payTimer() {\n      let orderInfo = this.orderInfo;\n      setInterval(() => {\n        orderInfo.add_time -= 1;\n        this.orderInfo = orderInfo;\n      }, 1000);\n    },\n    async submitAfterSale() {\n      if (this.goods_active == \"false\") {\n        uni.showToast({\n          title: \"请选择商品\",\n          icon: \"none\",\n          duration: 1500,\n          mask: true,\n          success: (res) => {},\n        });\n        return false;\n      }\n      if (this.content === \"\" || this.title === \"\") {\n        uni.showToast({\n          title: \"请填写申请原因/申请内容\",\n          icon: \"none\",\n          duration: 1500,\n          mask: true,\n          success: (res) => {},\n        });\n        return false;\n      }\n      let goods_id = [];\n      let goods_num = [];\n      for (let i = 0; i < this.orderGoods.length; i++) {\n        if (this.orderGoods[i].is_checked) {\n          goods_id += +this.orderGoods[i].id + \",\";\n          goods_num += this.orderGoods[i].number + \",\";\n        }\n      }\n      const data = await submitAfterSaleApi({\n        orderId: this.orderId,\n        note: \"[\" + this.afterType + \" \" + this.title + \"]\" + this.content,\n        user_id: uni.getStorageSync(\"user_id\"),\n        goods_id: goods_id,\n        goods_num: goods_num,\n      });\n      console.log(data.data.status);\n      if (data.data.status == \"succ\") {\n        uni.showToast({\n          title: \"申请成功\",\n          icon: \"none\",\n          duration: 1500,\n        });\n        uni.navigateTo({\n          url: \"/apiMember/orderlist/main?status=0\",\n        });\n      } else {\n        uni.showToast({\n          title: data.data.message,\n          icon: \"none\",\n          duration: 1500,\n        });\n      }\n    },\n    async changeColor(index, id, item) {\n      console.log(index);\n      if (this.Listids[index]) {\n        this.$set(this.Listids, index, false);\n        item.is_checked = \"false\";\n        this.goods_active = \"false\";\n      } else {\n        this.$set(this.Listids, index, id);\n        item.is_checked = \"true\";\n        this.goods_active = \"true\";\n      }\n    },\n    toaddrpage() {\n      uni.navigateTo({\n        url: \"/apiCart/address/main\",\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./style\";\n</style>","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&id=0b73e7ce&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&id=0b73e7ce&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1607929985140\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}