(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["apiMember/orderlist/main"],{2984:function(e,t,n){},"57de":function(e,t,n){"use strict";var r=n("2984"),a=n.n(r);a.a},"66a1":function(e,t,n){"use strict";(function(e){n("a2bf");r(n("66fd"));var t=r(n("7a29"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"67b7":function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var a=function(){var e=this,t=e.$createElement;e._self._c},o=[]},"7a29":function(e,t,n){"use strict";n.r(t);var r=n("67b7"),a=n("b7aa");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("57de");var i,c=n("f0c5"),s=Object(c["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],i);t["default"]=s.exports},b7aa:function(e,t,n){"use strict";n.r(t);var r=n("f407"),a=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},f407:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=c(n("a34a")),o=n("26b0"),i=n("de50");function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,c,"next",e)}function c(e){u(o,r,a,i,c,"throw",e)}i(void 0)}))}}var l={onLoad:function(e){this.tabbarIndex=e.status},onShow:function(){(0,o.toLogin)(),this.showType(this.tabbarIndex)},onReachBottom:function(){if(this.page=this.page+1,this.page>this.total)return!1;this.getOrderList()},created:function(){},mounted:function(){},data:function(){return{img_blank:"https://imgt1.oss-cn-shanghai.aliyuncs.com/ecAllRes/images/no_order.png",headerPosition:"",typeText:{unpaid:"等待付款",back:"等待发货",unreceived:"已发货",received:"等待评价",completed:"交易已完成",refunds:"退货中",cancelled:"订单已取消"},orderType:["全部","待付款","待发货","待收货","待评价","退换货"],orderList:[],list:[],tabbarIndex:0,page:1,total:""}},onPageScroll:function(e){},methods:(r={toPayment:function(t){e.navigateTo({url:"/apiCart/pay/main?orderId="+t})},orderDetailGo:function(t){e.navigateTo({url:"/apiMember/orderdetail/main?id="+t})},goodsAfterSale:function(t){e.navigateTo({url:"/apiMember/aftersale/main?orderId="+t})},showType:function(e){this.tabbarIndex=e,this.page=1,this.list=[],this.total="",console.info(this.tabbarIndex),this.getOrderList(!0)},cancelOrder:function(t){var n=this;console.info(t),e.showModal({title:"取消订单",content:"确定取消此订单？",success:function(e){e.confirm?(console.log("用户点击确定"),n.doCancelOrder(t.order_id)):e.cancel&&console.log("用户点击取消")}})},doCancelOrder:function(e){var t=this;return d(a.default.mark((function n(){var r;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,i.cancelOrderApi)({openId:t.openId,page:t.page,order_id:e,member_id:t.member_id});case 2:r=n.sent,!0===r.data.status&&t.getOrderList(!0);case 4:case"end":return n.stop()}}),n)})))()},onceAgain:function(t){e.navigateTo({url:"/apiShop/goods/main?id="+t.goods_list[0].goods_id})},showLogistics:function(e){},getOrderList:function(t){var n=this;return d(a.default.mark((function r(){var o;return a.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,(0,i.orderlistActionApi)({openId:e.getStorageSync("openId"),page:n.page,status:n.tabbarIndex});case 2:o=r.sent,console.info(o.data.order_list),n.total=o.data.pagetotal,console.log(n.total),n.list=t?o.data.order_list:n.list.concat(o.data.order_list);case 7:case"end":return r.stop()}}),r)})))()}},s(r,"cancelOrder",(function(t){var n=this;console.info(t),e.showModal({title:"取消订单",content:"确定取消此订单？",success:function(e){e.confirm?(console.log("用户点击确定"),n.doCancelOrder(t.order_id)):e.cancel&&console.log("用户点击取消")}})})),s(r,"doCancelOrder",(function(e){var t=this;return d(a.default.mark((function n(){var r;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,i.cancelOrderApi)({openId:t.openId,page:t.page,order_id:e,member_id:t.member_id});case 2:r=n.sent,!0===r.data.status&&t.getOrderList(!0);case 4:case"end":return n.stop()}}),n)})))()})),s(r,"doReceive",(function(t){var n=this;return d(a.default.mark((function r(){return a.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,(0,i.receiveOrderApi)({openId:n.openId,order_id:t.order_id,page:n.page,status:n.tabbarIndex});case 2:r.sent,t.type="received",setTimeout((function(){e.hideLoading(),e.showToast({title:"收货成功"}),setTimeout((function(){e.navigateTo({url:"/apiMember/orderlist/main?status=0"})}),300)}),700);case 5:case"end":return r.stop()}}),r)})))()})),r)};t.default=l}).call(this,n("543d")["default"])}},[["66a1","common/runtime","common/vendor"]]]);