(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["apiCart/orderdelivery/main"],{"0dd8":function(t,e,n){},"1e6a":function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement;t._self._c},r=[]},"22cf":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s(n("a34a")),i=n("de50"),r=n("26b0");function s(t){return t&&t.__esModule?t:{default:t}}function d(t,e,n,a,i,r,s){try{var d=t[r](s),o=d.value}catch(u){return void n(u)}d.done?e(o):Promise.resolve(o).then(a,i)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var r=t.apply(e,n);function s(t){d(r,a,i,s,o,"next",t)}function o(t){d(r,a,i,s,o,"throw",t)}s(void 0)}))}}var u={onShow:function(){(0,r.toLogin)(),this.addressId=t.getStorageSync("addressId"),console.log(this.addressId),this.goods_status=t.getStorageSync("goods_status"),this.getDeliverylist()},data:function(){return{addressId:"",dtchecked:0,dt:[],modalName:null,dtype:!1,radio:"",shipping:[],list:[],delivery_name:" ",d_id:" ",type:0,isShow:!0}},mounted:function(){return o(a.default.mark((function t(){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{clickId:function(e,n,a,i,r,s){t.setStorageSync("shipping_id",e),t.setStorageSync("p_type",n),void 0==n&&t.setStorageSync("p_type",!0),t.setStorageSync("k_status",a),this.delivery_name=i,this.d_id=r,this.modalName=" ",this.dtype=!1,void 0==s&&(this.dtype=!0)},onLoad:function(t){this.ral=t.ral,this.superpack=t.superpack},startOrder:function(){var e=this;return o(a.default.mark((function n(){return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(""===t.getStorageSync("shipping")&&t.setStorageSync("shipping_id",e.list[0].delivery_id),t.setStorageSync("k_status",""),e.shipping={id:e.dt[e.dtchecked].shipping_id,dt_name:e.dt[e.dtchecked].shipping_name,has_cod:e.dt[e.dtchecked].support_cod,is_protect:"N"},t.setStorageSync("shipping",e.shipping),0!=e.p_status){n.next=7;break}return t.showToast({title:"该配送方式没有配送地点，请选择其他配送方式",duration:2e3,icon:"none",mask:!0}),n.abrupt("return",!1);case 7:if(0!=e.goods_status){n.next=11;break}if("1"!=e.type){n.next=11;break}return t.showToast({title:"订单中存在，不允许快递配送的商品，请选择其他配送方式",duration:2e3,icon:"none",mask:!0}),n.abrupt("return",!1);case 11:if(" "!=e.delivery_name){n.next=14;break}return t.showToast({title:"请选择配送地点",duration:2e3,icon:"none",mask:!0}),n.abrupt("return",!1);case 14:t.setStorageSync("delivery_name",e.delivery_name),e.ral?t.navigateBack({url:"/apiCart/order/main?ral=true"}):e.superpack?t.navigateBack({url:"/apiCart/order/main?super=true"}):t.navigateBack({url:"/apiCart/order/main"});case 16:case"end":return n.stop()}}),n)})))()},showModal:function(t){this.modalName=t},RadioChange:function(t){this.radio=t.detail.value},name:function(t){this.delivery_name=t},tagVal:function(e,n){var r=arguments,s=this;return o(a.default.mark((function d(){var o,u,c,l,p;return a.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=!(r.length>2&&void 0!==r[2])||r[2],u=r.length>3?r[3]:void 0,console.log(e,n,o,u),c=s.dtchecked==e,s.dtchecked=e,a.next=7,(0,i.shippingListBottomApi)({delivery_name:s.delivery_name,delivery_id:n});case 7:if(l=a.sent,s.type=u,t.setStorageSync("delivery_id",n),s.list=l.data,"0"==s.type&&(o&&(s.modalName="RadioModal"),c?0==s.list&&(s.modalName=null,s.p_status=!1):s.list?(t.setStorageSync("p_type",s.list[0].type),t.setStorageSync("k_status",s.list[0].k_status),s.p_status="true"):(s.modalName=null,s.p_status=!1),t.setStorageSync("shipping_type","b")),void 0==s.type&&" "==s.delivery_name&&(s.delivery_name=s.list[0].delivery_name,s.d_id=s.list[0].parent_id,s.radio="radio0"),"1"!=s.type){a.next=29;break}return a.next=16,(0,i.shippingListTopApi)({address_id:s.addressId});case 16:if(p=a.sent,s.modalName="RadioModal",s.list=p.data.info,0!==s.list.length){a.next=23;break}return s.modalName="",t.showToast({title:"该配送方式没有下级请选择别的方式配送",icon:"none",duration:1500}),a.abrupt("return",!1);case 23:s.delivery_name=s.list[0].delivery_name,s.d_id=s.list[0].delivery_id,s.p_status="true",s.dtype=!0,s.radio="radio0",t.setStorageSync("shipping_type","a");case 29:case"end":return a.stop()}}),d)})))()},getDeliverylist:function(){var e=this;return o(a.default.mark((function n(){var r;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,i.shippingListApi)({address_id:e.addressId});case 2:r=n.sent,r&&(e.dt=r.data.info,console.log(111,e.dt),e.type=r.data.info[0]["type"]),e.tagVal(0,e.dt[0].delivery_id,!0,"1"),t.getStorageSync("shipping")&&(e.shipping=t.getStorageSync("shipping"),Object.values(e.dt).forEach((function(t,e){})));case 6:case"end":return n.stop()}}),n)})))()}}};e.default=u}).call(this,n("543d")["default"])},2456:function(t,e,n){"use strict";n.r(e);var a=n("22cf"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},"26cf":function(t,e,n){"use strict";(function(t){n("a2bf");a(n("66fd"));var e=a(n("c71e"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},9186:function(t,e,n){"use strict";var a=n("0dd8"),i=n.n(a);i.a},c71e:function(t,e,n){"use strict";n.r(e);var a=n("1e6a"),i=n("2456");for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("9186");var s,d=n("f0c5"),o=Object(d["a"])(i["default"],a["b"],a["c"],!1,null,"381a20cc",null,!1,a["a"],s);e["default"]=o.exports}},[["26cf","common/runtime","common/vendor"]]]);