(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["apiShop/categorylist/main"],{"11b6":function(t,e,a){},"349b":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var r=function(){var t=this,e=t.$createElement;t._self._c},o=[]},6908:function(t,e,a){"use strict";a.r(e);var n=a("e641"),r=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=r.a},"8f81":function(t,e,a){"use strict";var n=a("11b6"),r=a.n(n);r.a},d8f5:function(t,e,a){"use strict";(function(t){a("a2bf");n(a("66fd"));var e=n(a("f7b4"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},e641:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(a("a34a")),r=a("de50");function o(t){return t&&t.__esModule?t:{default:t}}function c(t,e,a,n,r,o,c){try{var i=t[o](c),s=i.value}catch(d){return void a(d)}i.done?e(s):Promise.resolve(s).then(n,r)}function i(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var o=t.apply(e,a);function i(t){c(o,n,r,i,s,"next",t)}function s(t){c(o,n,r,i,s,"throw",t)}i(void 0)}))}}var s={onReachBottom:function(){if(this.page=this.page+1,this.page>this.pagetotal)return!1;""==this.type?this.getAllData():(this.type="name")?this.filterchangeTab(0):(this.type="price")?this.filterchangeTab(1):(this.type="sales")&&this.filterchangeTab(2)},created:function(){},onUnload:function(){},onLoad:function(t){this.id=t.id},mounted:function(){this.categoryId=this.id,this.getAllData(!0),t.removeStorageSync("s_cat_id")},data:function(){return{page:1,pagetotal:"",categoryId:"",s_cat_id:"",activeClass:"",order:"",type:"",nowIndex:0,nowIndex_filter:0,goodsList:[],navData:[],currentNav:{},scrollLeft:0}},components:{},methods:{changeTab:function(e,a){var o=this;return i(n.default.mark((function c(){var i;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o.nowIndex=e,o.page=1,t.setStorageSync("s_cat_id",a),n.next=5,(0,r.categorylistGoodsListApi)({cat_id:a,order:o.order,page:o.page});case 5:i=n.sent,o.goodsList=i.data.data,o.pagetotal=i.data.pagetotal,o.currentNav=i.data.currentNav,o.nowIndex>4&&(o.scrollLeft=60*o.nowIndex);case 10:case"end":return n.stop()}}),c)})))()},filterchangeTab:function(e){var a=this;return i(n.default.mark((function o(){var c;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.nowIndex_filter=e,t.getStorageSync("s_cat_id")?a.s_cat_id=t.getStorageSync("s_cat_id"):a.s_cat_id=a.categoryId,0==e?(a.type="name",a.order="asc"):1==e?(a.order="asc"==a.order?"desc":"asc",a.type="price",a.activeClass,a.activeClass=a.order+" active"):2==e&&(a.order="asc"==a.order?"desc":"asc",a.page=1,a.type="sales",a.activeClass=a.order+" active"),n.next=5,(0,r.categorylistGoodsListApi)({cat_id:a.s_cat_id,order:a.order,type:a.type,page:a.page});case 5:c=n.sent,a.goodsList=c.data.data,a.pagetotal=c.data.pagetotal,a.currentNav=c.data.currentNav,a.nowIndex_filter>4&&(a.scrollLeft=60*a.nowIndex_filter);case 10:case"end":return n.stop()}}),o)})))()},getAllData:function(t){var e=this;return i(n.default.mark((function a(){var o,c,i,s,d;return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t){a.next=16;break}return a.next=3,(0,r.categorylistNavListApi)({cat_id:e.categoryId});case 3:for(o=a.sent,e.navData=o.data.navData,console.log(e.navData),e.currentNav=o.data.currentNav,c=0;c<e.navData.length;c++)i=e.navData[c].id,i==e.currentNav.id&&(e.nowIndex=c);return e.nowIndex>4?e.scrollLeft=60*e.nowIndex:e.scrollLeft=0,a.next=11,(0,r.categorylistGoodsListApi)({cat_id:e.categoryId,order:e.order,page:e.page});case 11:s=a.sent,e.goodsList=s.data.data,e.pagetotal=s.data.pagetotal,a.next=20;break;case 16:return a.next=18,(0,r.categorylistGoodsListApi)({cat_id:e.categoryId,order:e.order,page:e.page});case 18:d=a.sent,e.goodsList=e.goodsList.concat(d.data.data);case 20:case"end":return a.stop()}}),a)})))()},goodsDetail:function(e){console.log(e),t.navigateTo({url:"/apiShop/goods/main?id="+e})}},computed:{}};e.default=s}).call(this,a("543d")["default"])},f7b4:function(t,e,a){"use strict";a.r(e);var n=a("349b"),r=a("6908");for(var o in r)"default"!==o&&function(t){a.d(e,t,(function(){return r[t]}))}(o);a("8f81");var c,i=a("f0c5"),s=Object(i["a"])(r["default"],n["b"],n["c"],!1,null,"875c091c",null,!1,n["a"],c);e["default"]=s.exports}},[["d8f5","common/runtime","common/vendor"]]]);