(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["apiPam/register/main"],{"0022":function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var r=function(){var t=this,e=t.$createElement;t._self._c},a=[]},"2d7b":function(t,e,n){"use strict";n.r(e);var o=n("0022"),r=n("c4e3");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);n("e764");var i,s=n("f0c5"),u=Object(s["a"])(r["default"],o["b"],o["c"],!1,null,"2032c21d",null,!1,o["a"],i);e["default"]=u.exports},6569:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,r=s(n("a34a")),a=n("de50"),i=n("26b0");function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e,n,o,r,a,i){try{var s=t[a](i),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(o,r)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(t){c(a,o,r,i,s,"next",t)}function s(t){c(a,o,r,i,s,"throw",t)}i(void 0)}))}}var f=function(){n.e("components/watch-login/watch-input").then(function(){return resolve(n("a127"))}.bind(null,n)).catch(n.oe)},l=function(){n.e("components/watch-login/watch-button").then(function(){return resolve(n("2f40"))}.bind(null,n)).catch(n.oe)},p=(o={onShow:function(){},onLoad:function(){this.logo()},data:function(){return{logoImage:"",phoneData:"",passData:"",verCode:"",showAgree:!0,isRotate:!1,tagtype:"",user_id:"",recode:"",parent_id:""}},components:{wInput:f,wButton:l}},u(o,"onLoad",(function(t){this.parent_id=t.parent_id})),u(o,"mounted",(function(){this.parent_id&&(this.parent_id=this.parent_id,t.setStorageSync("parent_id",this.parent_id),console.log(t.getStorageSync("parent_id")))})),u(o,"methods",{logo:function(){var t=this;return d(r.default.mark((function e(){var n;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,a.loginLogo)({});case 2:n=e.sent,t.logoImage=n.data.logo_other;case 4:case"end":return e.stop()}}),e)})))()},getVerCode:function(){var e=this;return d(r.default.mark((function n(){var o;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(11==e.phoneData.length){n.next=3;break}return t.showToast({icon:"none",position:"bottom",title:"手机号不正确"}),n.abrupt("return",!1);case 3:return n.next=5,(0,a.registerSendSmsApi)({user_name:e.phoneData});case 5:if(o=n.sent,!1!==o.data.is_send){n.next=9;break}return t.showToast({icon:"none",position:"bottom",title:o.data.msg}),n.abrupt("return",!1);case 9:e.$refs.runCode.$emit("runCode"),t.showToast({icon:"none",position:"bottom",title:"请查收验证码"});case 11:case"end":return n.stop()}}),n)})))()},startReg:function(){var e=this;return d(r.default.mark((function n(){var o;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.isRotate){n.next=2;break}return n.abrupt("return",!1);case 2:if(0!=e.showAgree){n.next=5;break}return t.showToast({icon:"none",position:"bottom",title:"请先同意《协议》"}),n.abrupt("return",!1);case 5:if(11==e.phoneData.length){n.next=8;break}return t.showToast({icon:"none",position:"bottom",title:"手机号不正确"}),n.abrupt("return",!1);case 8:if(!(e.passData.length<6)){n.next=11;break}return t.showToast({icon:"none",position:"bottom",title:"密码不正确"}),n.abrupt("return",!1);case 11:if(!(e.verCode.length<3)){n.next=14;break}return t.showToast({icon:"none",position:"bottom",title:"验证码不正确"}),n.abrupt("return",!1);case 14:return e.tagtype="weixin",e.parent_id=t.getStorageSync("parent_id"),console.log(e.parent_id),console.log("=========="),n.next=20,(0,a.registerPhoneApi)({user_name:e.phoneData,password:e.passData,vcode:e.verCode,recode:e.recode,tagtype:e.tagtype,parent_id:e.parent_id});case 20:if(o=n.sent,0!=o.data.is_register){n.next=24;break}return t.showToast({icon:"none",position:"bottom",title:o.data.msg}),n.abrupt("return",!1);case 24:(0,i.quit)(),e.accesstoken=o.data.sess_id,e.user_id=o.data.user_id,e.userInfo={nickName:e.phoneData,language:"zh_CN",avatarUrl:"https://imgt1.oss-cn-shanghai.aliyuncs.com/ecAllRes/images/missing-face.png"},t.setStorageSync("userInfo",e.userInfo),t.setStorageSync("accesstoken",e.accesstoken),t.setStorageSync("user_id",e.user_id),t.setStorageSync("tagtype","weixin"),t.switchTab({url:"/pages/my/main"});case 33:case"end":return n.stop()}}),n)})))()}}),o);e.default=p}).call(this,n("543d")["default"])},a51f:function(t,e,n){},c4e3:function(t,e,n){"use strict";n.r(e);var o=n("6569"),r=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=r.a},cd67:function(t,e,n){"use strict";(function(t){n("a2bf");o(n("66fd"));var e=o(n("2d7b"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},e764:function(t,e,n){"use strict";var o=n("a51f"),r=n.n(o);r.a}},[["cd67","common/runtime","common/vendor"]]]);