(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["apiPam/mobile/main"],{2452:function(e,t,n){"use strict";var o;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var r=function(){var e=this,t=e.$createElement;e._self._c},a=[]},"5e8b":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("a34a")),r=n("26b0"),a=n("de50");function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,o,r,a,i){try{var u=e[a](i),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(o,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){u(a,o,r,i,s,"next",e)}function s(e){u(a,o,r,i,s,"throw",e)}i(void 0)}))}}var c=function(){n.e("components/watch-login/watch-input").then(function(){return resolve(n("a127"))}.bind(null,n)).catch(n.oe)},f=function(){n.e("components/watch-login/watch-button").then(function(){return resolve(n("2f40"))}.bind(null,n)).catch(n.oe)},d={onShow:function(){this.openId=(0,r.getStorageOpenid)(),this.userInfo=(0,r.getStorageUserInfo)()},data:function(){return{phoneData:"",verCode:"",showAgree:!0,isRotate:!1,userInfo:[],openId:"",accesstoken:""}},components:{wInput:c,wButton:f},mounted:function(){},methods:{isShowAgree:function(){this.showAgree=!this.showAgree},getVerCode:function(){var t=this;return s(o.default.mark((function n(){var r;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(11==t.phoneData.length){n.next=3;break}return e.showToast({icon:"none",position:"bottom",title:"手机号不正确"}),n.abrupt("return",!1);case 3:return n.next=5,(0,a.bindingSendSmsApi)({mobile:t.phoneData});case 5:r=n.sent,console.log("获取验证码"),console.log(r),r.data.res&&(t.$refs.runCode.$emit("runCode"),e.showToast({icon:"none",position:"bottom",title:"获取短信成功"}));case 9:case"end":return n.stop()}}),n)})))()},startReg:function(){var t=this;return s(o.default.mark((function n(){var r;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.isRotate){n.next=2;break}return n.abrupt("return",!1);case 2:if(0!=t.showAgree){n.next=5;break}return e.showToast({icon:"none",position:"bottom",title:"请先同意《协议》"}),n.abrupt("return",!1);case 5:if(11==t.phoneData.length){n.next=8;break}return e.showToast({icon:"none",position:"bottom",title:"手机号不正确"}),n.abrupt("return",!1);case 8:if(!(t.verCode.length<4)){n.next=11;break}return e.showToast({icon:"none",position:"bottom",title:"验证码不正确"+t.verCode}),n.abrupt("return",!1);case 11:return n.next=13,(0,a.bangdingMobile)({user_id:e.getStorageSync("user_id"),mobile:t.phoneData,verCode:t.verCode,platform:"MP-WEIXIN"});case 13:if(r=n.sent,!1!==r.data.res){n.next=17;break}return e.showToast({icon:"none",title:r.data.msg}),n.abrupt("return",!1);case 17:e.switchTab({url:"/pages/my/main"});case 18:case"end":return n.stop()}}),n)})))()},startRegDirect:function(){var t=this;return s(o.default.mark((function n(){var r;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.isRotate){n.next=2;break}return n.abrupt("return",!1);case 2:if(0!=t.showAgree){n.next=5;break}return e.showToast({icon:"none",position:"bottom",title:"请先同意《协议》"}),n.abrupt("return",!1);case 5:return n.next=7,(0,a.bindingWechatApi)({openId:t.openId,nickname:t.userInfo.nickName,gender:t.userInfo.gender,avatarUrl:t.userInfo.avatarUrl,tagtype:"weixin"});case 7:r=n.sent,e.setStorageSync("tagtype","weixin"),t.accesstoken=r.accesstoken,t.openId=r.openId,e.setStorageSync("userInfo",t.userInfo),e.setStorageSync("accesstoken",t.accesstoken),e.setStorageSync("openId",t.openId),e.switchTab({url:"/pages/my/main"});case 15:case"end":return n.stop()}}),n)})))()}}};t.default=d}).call(this,n("543d")["default"])},"6fde":function(e,t,n){"use strict";(function(e){n("a2bf");o(n("66fd"));var t=o(n("c339"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},c339:function(e,t,n){"use strict";n.r(t);var o=n("2452"),r=n("dadf");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("da1c");var i,u=n("f0c5"),s=Object(u["a"])(r["default"],o["b"],o["c"],!1,null,"387f3093",null,!1,o["a"],i);t["default"]=s.exports},c6ab:function(e,t,n){},da1c:function(e,t,n){"use strict";var o=n("c6ab"),r=n.n(o);r.a},dadf:function(e,t,n){"use strict";n.r(t);var o=n("5e8b"),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=r.a}},[["6fde","common/runtime","common/vendor"]]]);